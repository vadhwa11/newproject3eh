01-08-2017
------------
Added by Govind
-----------------
ALTER TABLE bl_charge_slip_main
ADD COLUMN scheme_id integer,
ADD CONSTRAINT fk_ip_scheme FOREIGN KEY (scheme_id)
REFERENCES mas_scheme(scheme_id);

alter table mas_institute_department add column frequency_days character varying(256);


02-08-2017
------------
Added by Anamika

-----------------

ALTER TABLE mas_speciality_dept_group
   ADD COLUMN unit_label character varying(32);




ALTER TABLE mas_speciality_dept_group
   ADD COLUMN text_maxlength integer;




ALTER TABLE mas_speciality_dept_group
   ADD COLUMN data_type character varying(16);


ALTER TABLE mas_speciality_dept_group_value ADD COLUMN extra_text character varying(32);


update mas_specialty_template set template_name = 'Infertility Clinic' where template_code = 'GYN';






01-08-2017
---------
Added by Mansi
---------------



ALTER TABLE opd_oral_medicine_dental_tissue   ALTER COLUMN burning_sensation TYPE character varying(10);
ALTER TABLE opd_oral_medicine_dental_tissue   ALTER COLUMN hyper_pigmentation TYPE character varying(10);
ALTER TABLE opd_oral_medicine_dental_tissue   ALTER COLUMN red_patches_scrapable TYPE character varying(10);
ALTER TABLE opd_oral_medicine_dental_tissue   ALTER COLUMN red_patches_non_scrapable TYPE character varying(10);
ALTER TABLE opd_oral_medicine_dental_tissue   ALTER COLUMN white_patches_scrapable TYPE character varying(10);
ALTER TABLE opd_oral_medicine_dental_tissue   ALTER COLUMN white_patches_non_scrapable TYPE character varying(10);
ALTER TABLE opd_oral_medicine_dental_tissue   ALTER COLUMN white_patches_non_scrapable TYPE character varying(10);
ALTER TABLE opd_oral_medicine_dental_tissue   ALTER COLUMN swelling TYPE character varying(10);
ALTER TABLE opd_oral_medicine_dental_tissue   ALTER COLUMN ulcers TYPE character varying(10);
ALTER TABLE opd_oral_medicine_dental_tissue   ALTER COLUMN roughness TYPE character varying(10);
ALTER TABLE opd_oral_medicine_dental_tissue   ALTER COLUMN white_striae type character varying(10);


ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smoking_currently TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smokeless_currently TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN alcohol_currently TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smoking_daily_past TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smokeless_daily_past TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN alcohol_daily_past TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smoking_frequency_past TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smokeless_frequency_past TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN alcohol_frequency_past TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smoking_visited_doctor_fromer TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smokeless_visited_doctor_fromer TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN alcohol_visited_doctor_fromer TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smoking_doctor_ask_fromer TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smokeless_doctor_ask_fromer TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN alcohol_doctor_ask_fromer TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smoking_quit_tobacoo_fromer TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smokeless_quit_tobacoo_fromer TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN alcohol_quit_tobacoo_fromer TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smoking_quit_any_fromer TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smokeless_quit_any_fromer TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN alcohol_quit_any_fromer TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smoking_try_stop TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smokeless_try_stop TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN alcohol_try_stop TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smoking_try_stop_using TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN smokeless_try_stop_using TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN alcohol_try_stop_using TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN  submental_submandibular TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN  high_jugular TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN mid_jugular TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN low_jugular TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN posterior_jugular TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN tracheo_oesophageal TYPE character varying(10);
ALTER TABLE opd_oral_medicine_pathology   ALTER COLUMN superior_mediastinal TYPE character varying(10);


ALTER TABLE opd_oral_medicine_dental_tissue ADD COLUMN medicine_pathology_id integer;


ALTER TABLE opd_oral_medicine_dental_tissue
  ADD CONSTRAINT fk_opd_oral_medicine_dental_tissue_6 FOREIGN KEY (medicine_pathology_id)
      REFERENCES opd_oral_medicine_pathology (medicine_pathology_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION;



  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smoking_currently TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smokeless_currently TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN alcohol_currently TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smoking_daily_past TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smokeless_daily_past TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN alcohol_daily_past TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smoking_frequency_past TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smokeless_frequency_past TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN alcohol_frequency_past TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smoking_visited_doctor_fromer TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smokeless_visited_doctor_fromer TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN alcohol_visited_doctor_fromer TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smoking_doctor_ask_fromer TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smokeless_doctor_ask_fromer TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN alcohol_doctor_ask_fromer TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smoking_quit_tobacoo_fromer TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smokeless_quit_tobacoo_fromer TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN alcohol_quit_tobacoo_fromer TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smoking_quit_any_fromer TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smokeless_quit_any_fromer TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN alcohol_quit_any_fromer TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smoking_try_stop TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smokeless_try_stop TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN alcohol_try_stop TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smoking_try_stop_using TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN smokeless_try_stop_using TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN alcohol_try_stop_using TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN bowels TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN chest_pain TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN angina TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN dyspnoea TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN orthopnoea TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN oedema_feet TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN cough TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN haemoptysis TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN sputum TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN dysuria TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN haematuria TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN nocturia TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN hoarseness TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN sore_throat TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN epistaxis TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN frequent_colds TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN headache TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN vomiting TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN fits TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN submental_submandibular TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN high_jugular TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN mid_jugular TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN low_jugular TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN posterior_jugular TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN tracheo_oesophageal TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN superior_mediastinal TYPE character varying(10);
  ALTER TABLE opd_oral_medicine_dental   ALTER COLUMN lateral_border TYPE character varying(10);




04-08-2017
---------
Added by Anamika
---------------





ALTER TABLE opd_antenatal_card ADD COLUMN date_usg_report character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN date_usg_one date;
ALTER TABLE opd_antenatal_card ADD COLUMN date_usg_two date;
ALTER TABLE opd_antenatal_card ADD COLUMN date_usg_three date;

ALTER TABLE opd_antenatal_card ADD COLUMN lmp_ga_usg_report character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN lmp_ga_one character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN lmp_ga_two character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN lmp_ga_three character varying(128);

ALTER TABLE opd_antenatal_card ADD COLUMN usg_ga_usg_report character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN usg_ga_one character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN usg_ga_two character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN usg_ga_three character varying(128);

ALTER TABLE opd_antenatal_card ADD COLUMN afi_usg_report character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN afi_one character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN afi_two character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN afi_three character varying(128);

ALTER TABLE opd_antenatal_card ADD COLUMN bpp_usg_report character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN bpp_one character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN bpp_two_usg character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN bpp_three character varying(128);

ALTER TABLE opd_antenatal_card ADD COLUMN bpd_usg_report character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN bpd_one character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN bpp_two character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN bpd_three character varying(128);

ALTER TABLE opd_antenatal_card ADD COLUMN fl_usg_report character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN fl_one character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN fl_two character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN fl_three character varying(128);

ALTER TABLE opd_antenatal_card ADD COLUMN ac_usg_report character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN ac_one character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN ac_two character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN ac_three character varying(128);

ALTER TABLE opd_antenatal_card ADD COLUMN hc_usg_report character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN hc_one character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN hc_two character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN hc_three character varying(128);

ALTER TABLE opd_antenatal_card ADD COLUMN ebw_usg_report character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN ebw_one character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN ebw_two character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN ebw_three character varying(128);

ALTER TABLE opd_antenatal_card ADD COLUMN doppler_usg_report character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN doppler_one character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN doppler_two character varying(128);
ALTER TABLE opd_antenatal_card ADD COLUMN doppler_three character varying(128);

ALTER TABLE opd_antenatal_card ADD COLUMN usg_remarks character varying(256);





10-08-2017
----------
Added By Ritu


ALTER TABLE app_setup ADD COLUMN session_id integer;

ALTER TABLE app_setup
  ADD CONSTRAINT "FK_app_setup_005" FOREIGN KEY (session_id)
      REFERENCES mas_session (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION;
      
      
 
11-08-2017
----------
Added By Amit Das 
  
  CREATE TABLE lean_server_patient_appointment_data
(
  id integer NOT NULL,
  paitent_appointment_data text,
  hospital_id integer,
  lean_appointment_id integer,
  status character varying(1),
  CONSTRAINT lean_server_patient_appointment_data_pkey PRIMARY KEY (id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE lean_server_patient_appointment_data
  OWNER TO postgres;


11-08-2017
----------
Added By Amit Das 
  
  CREATE TABLE central_server_patient_appointment_data
(
  id integer NOT NULL,
  paitent_appointment_data text,
  hospital_id integer,
  central_appointment_id integer,
  status character varying(1),
  CONSTRAINT central_server_patient_appointment_data_pkey PRIMARY KEY (id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE central_server_patient_appointment_data
  OWNER TO postgres; 
      
// Added by Om Tripathi 18/08/2017

// Updated by Om Tripathi 18/08/2017

CREATE TABLE public.mas_store_out_item
(
)
WITH (
OIDS=FALSE
);
ALTER TABLE public.mas_store_out_item
OWNER TO postgres;


ALTER TABLE public.mas_store_out_item ADD COLUMN item_id serial;
ALTER TABLE public.mas_store_out_item ADD COLUMN pvms character varying(20);
ALTER TABLE public.mas_store_out_item ADD COLUMN nomenclature character varying(250);
ALTER TABLE public.mas_store_out_item ADD COLUMN dangerous_drug character varying(20);
ALTER TABLE public.mas_store_out_item ADD COLUMN item_type_id integer;
ALTER TABLE public.mas_store_out_item ADD COLUMN item_category_id integer;
ALTER TABLE public.mas_store_out_item ADD COLUMN item_conversion_id integer;
ALTER TABLE public.mas_store_out_item ADD COLUMN cost_price numeric;
ALTER TABLE public.mas_store_out_item ADD COLUMN controlled_drug character varying(20);
ALTER TABLE public.mas_store_out_item ADD COLUMN rate_contract_item character varying(20);
ALTER TABLE public.mas_store_out_item ADD COLUMN department_id integer;
ALTER TABLE public.mas_store_out_item ADD COLUMN status character(20);
ALTER TABLE public.mas_store_out_item ADD COLUMN last_chg_by integer;
ALTER TABLE public.mas_store_out_item ADD COLUMN last_chg_date date;
ALTER TABLE public.mas_store_out_item ADD COLUMN last_chg_time character varying(20);
ALTER TABLE public.mas_store_out_item ADD COLUMN group_id integer;
ALTER TABLE public.mas_store_out_item ADD COLUMN hospital_id integer;
ALTER TABLE public.mas_store_out_item ADD COLUMN created_on date;
ALTER TABLE public.mas_store_out_item ADD COLUMN reffred_by integer;
ALTER TABLE public.mas_store_out_item ADD COLUMN common_name character varying(30);
ALTER TABLE public.mas_store_out_item ADD COLUMN disp_unit character varying(30);
ALTER TABLE public.mas_store_out_item ADD COLUMN a_disp_qty numeric;
ALTER TABLE public.mas_store_out_item
ADD PRIMARY KEY (item_id);
-- Index: public.fki_department_mas_store_out
-- DROP INDEX public.fki_department_mas_store_out;
CREATE INDEX fki_department_mas_store_out
ON public.mas_store_out_item
USING btree
(department_id);
-- Index: public.fki_hospital_mas_store_out
-- DROP INDEX public.fki_hospital_mas_store_out;
CREATE INDEX fki_hospital_mas_store_out
ON public.mas_store_out_item
USING btree
(hospital_id);
-- Index: public.fki_users_mas_store
-- DROP INDEX public.fki_users_mas_store;
CREATE INDEX fki_users_mas_store
ON public.mas_store_out_item
USING btree
(last_chg_by);
    
    CREATE SEQUENCE hibernate_sequence START WITH 1 INCREMENT BY 1;
    
// added by amit das on 22-08-2017
 
 drop TABLE lean_server_patient_appointment_data;
 drop TABLE lean_server_patient_reg_data;
 drop TABLE lean_server_visit_data;
  

CREATE TABLE lean_server_patient_appointment_data
(
  paitent_appointment_data text,
  hospital_id integer,
  lean_appointment_id integer,
  status character varying(1),
  id integer NOT NULL DEFAULT nextval('lean_server_patient_appointment_data_id_seq'::regclass),
  CONSTRAINT lean_server_patient_appointment_data_pkey PRIMARY KEY (id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE lean_server_patient_appointment_data
  OWNER TO postgres;

  
  CREATE TABLE lean_server_patient_reg_data
(
  paitent_reg_data text,
  lean_reg_id integer,
  status character varying(1),
  hospital_id integer,
  central_reg_id integer,
  id integer NOT NULL DEFAULT nextval('lean_server_patient_reg_data_id_seq'::regclass),
  CONSTRAINT lean_server_patient_reg_id_pkey PRIMARY KEY (id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE lean_server_patient_reg_data
  OWNER TO postgres;
  
 
CREATE TABLE lean_server_visit_data
(
  id integer NOT NULL DEFAULT nextval('lean_server_visit_data_id_seq'::regclass),
  visit_data text,
  central_visit_id integer,
  status character varying(1),
  hospital_id integer,
  lean_visit_id integer,
  CONSTRAINT lean_server_visit_data_pkey PRIMARY KEY (id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE lean_server_visit_data
  OWNER TO postgres; 
     
    
    
 
24-08-2017
----------
Added By Ritu   
    
ALTER TABLE opd_patient_details ADD COLUMN referred_session_id integer;

ALTER TABLE opd_patient_details
  ADD CONSTRAINT fk_referred_session FOREIGN KEY (referred_session_id)
      REFERENCES mas_session (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION;

      
29-08-2017
----------
Added By Amit Das   
    
ALTER TABLE visit
  ADD COLUMN creation_source character varying(1);      
      
 29/08/2017 
 ------------------------added by anamika-------------------------
 
ALTER TABLE inpatient_prescription_header
   ADD COLUMN prescribed_by_nurse character varying(1);


   ALTER TABLE dg_orderhd
   ADD COLUMN prescribed_by_nurse character varying(1);


   ALTER TABLE nursingcare_setup
   ADD COLUMN prescribed_by_nurse character varying(1);
   
   

   ALTER TABLE patient_investigation_header
   ADD COLUMN prescribed_by_nurse character varying(1);

// Added by Om Tripathi 30/08/2017 
ALTER TABLE public.patient_prescription_details ADD COLUMN item_out_id integer;

CREATE INDEX fki_mas_out_item_id
  ON public.patient_prescription_details
  USING btree
  (item_out_id);


   ALTER TABLE public.mas_store_out_item ADD COLUMN created_by integer;
   
   CREATE TABLE public.mas_store_out_item
(
  item_id integer NOT NULL DEFAULT nextval('mas_store_out_item_item_id_seq'::regclass),
  pvms character varying(20),
  nomenclature character varying(250),
  dangerous_drug character varying(20),
  item_type_id integer,
  item_category_id integer,
  item_conversion_id integer,
  cost_price numeric,
  controlled_drug character varying(20),
  rate_contract_item character varying(20),
  department_id integer,
  status character(20),
  last_chg_by integer,
  last_chg_date date,
  last_chg_time character varying(20),
  group_id integer,
  hospital_id integer,
  created_on date,
  reffred_by integer,
  common_name character varying(30),
  disp_unit character varying(30),
  a_disp_qty numeric,
  created_by integer,
  CONSTRAINT mas_store_out_item_pkey PRIMARY KEY (item_id),
  CONSTRAINT "createdBy" FOREIGN KEY (created_by)
      REFERENCES public.users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fdepartment_id FOREIGN KEY (department_id)
      REFERENCES public.mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fhospital_id FOREIGN KEY (hospital_id)
      REFERENCES public.mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT "updatedBy" FOREIGN KEY (last_chg_by)
      REFERENCES public.users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.mas_store_out_item
  OWNER TO postgres;

-- Index: public.fki_department_mas_store_out

-- DROP INDEX public.fki_department_mas_store_out;

CREATE INDEX fki_department_mas_store_out
  ON public.mas_store_out_item
  USING btree
  (department_id);

-- Index: public.fki_fdepartment_id

-- DROP INDEX public.fki_fdepartment_id;

CREATE INDEX fki_fdepartment_id
  ON public.mas_store_out_item
  USING btree
  (department_id);

-- Index: public.fki_fhospital_id

-- DROP INDEX public.fki_fhospital_id;

CREATE INDEX fki_fhospital_id
  ON public.mas_store_out_item
  USING btree
  (hospital_id);

-- Index: public.fki_hospital_mas_store_out

-- DROP INDEX public.fki_hospital_mas_store_out;

CREATE INDEX fki_hospital_mas_store_out
  ON public.mas_store_out_item
  USING btree
  (hospital_id);

-- Index: public."fki_updatedBy"

-- DROP INDEX public."fki_updatedBy";

CREATE INDEX "fki_updatedBy"
  ON public.mas_store_out_item
  USING btree
  (last_chg_by);

-- Index: public.fki_users_mas_store

-- DROP INDEX public.fki_users_mas_store;

CREATE INDEX fki_users_mas_store
  ON public.mas_store_out_item
  USING btree
  (last_chg_by);   
   

        
29-08-2017
----------
Added By Amit Das   
    
  
  ALTER TABLE mas_hospital
  ADD COLUMN multi_lab character varying(3);
  
  ALTER TABLE users
  ADD COLUMN current_lab_id integer; 
  
  12-09-2017
  ----------
  Added by Arbind 
  
  ALTER TABLE opd_vaccination_plan 
  ADD COLUMN private_hosptal_name character varying(256);
  
  ALTER TABLE opd_vaccination_plan 
  ADD COLUMN vaccin_institute integer,
  ADD CONSTRAINT fk_vaccin_institute FOREIGN KEY (vaccin_institute)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT;
      
      
14-09-2017
-----------
Added By Mansi Gagrani Jain


CREATE TABLE prescription_mapping
(
  prescription_mapping_id serial NOT NULL,
  item_id integer,
  dosage character varying(5),
  frequency_id integer,
  noofdays integer,
  route_id integer,
  CONSTRAINT pk__prescription_mapping PRIMARY KEY (prescription_mapping_id),
  CONSTRAINT fk_prescription_mapping_001 FOREIGN KEY (frequency_id)
      REFERENCES mas_frequency (frequency_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
  CONSTRAINT fk_prescription_mapping_002 FOREIGN KEY (route_id)
      REFERENCES route_of_administration (route_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
  CONSTRAINT fk_prescription_mapping_003 FOREIGN KEY (item_id)
      REFERENCES mas_store_item (item_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT
)
WITH (
  OIDS=FALSE
);
ALTER TABLE prescription_mapping
  OWNER TO postgres;
GRANT ALL ON TABLE prescription_mapping TO postgres;

14-09-2017
------------
Added by Kamalesh

alter table supplier_master alter colmun supplier_description CHARACTER VARYING(100);
alter table supplier_master alter colmun pin_code CHARACTER VARYING(10);
alter table supplier_master alter colmun phone_number CHARACTER VARYING(50);
drop index supplier_master_supplier_description;

alter table store_grn_m add column purchase_order_date date;
alter table store_grn_m add column purchase_order_no character varying(100);

create index ph_mas_locality_lower_idx on ph_mas_locality(lower(status::text));

      
------------- 

14-09-2017
------------------
added by anamika

ALTER TABLE patient
   ADD COLUMN blood_group_value character varying(64);
   
   ALTER TABLE patient
   ADD COLUMN confirmed_status character varying(1) DEFAULT 'n';
  //-----------------------------------------




15-09-2017
------------
Added by Govind
-----------------
ALTER TABLE ip_ward_consumption_header
ADD COLUMN bill_status character varying(1);
 
 // Added By Om Tripathi 15/09/2017

ALTER TABLE public.opd_template DROP COLUMN template_local;
ALTER TABLE public.opd_template ADD COLUMN template_local integer; 

16-09-2017
------------
Added by Awadhesh

----------------- 

ALTER TABLE public.opd_surgery_header ADD COLUMN abscond_remark character varying(1024);


ALTER TABLE public.opd_surgery_header ADD COLUMN cancel_remark character varying(1024);

Added By Srikanth
-----------------
ALTER TABLE blood_request_entry_header ADD COLUMN visit_id integer;
ALTER TABLE ot_booking ADD COLUMN blood_require character varying(1);


19-09-2017
//added by anamika---------------------------


CREATE TABLE opd_antenatal_usg
(
  opd_antenatal_usg_id serial NOT NULL,
  opd_antenatal_card_id integer,
  visit_id integer,
  hin_id integer,
  department_id integer,
  hospital_id integer,
  trimister character varying(64),
  usg_parameter character varying(128),
  usg_parameter_value1 character varying(128),
  usg_parameter_value2 character varying(128),
  usg_parameter_value3 character varying(128),
  usg_parameter_value4 character varying(128),
  usg_parameter_value5 character varying(128),
  usg_parameter_value6 character varying(128),
  CONSTRAINT pk__opd_antenatal_usg PRIMARY KEY (opd_antenatal_usg_id),
  CONSTRAINT fk_opd_antenatal_usg_1 FOREIGN KEY (opd_antenatal_card_id)
      REFERENCES opd_antenatal_card (opd_antenatal_card_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_opd_antenatal_usg_2 FOREIGN KEY (visit_id)
      REFERENCES visit (visit_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_opd_antenatal_usg_3 FOREIGN KEY (hin_id)
      REFERENCES patient (hin_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_opd_antenatal_usg_4 FOREIGN KEY (department_id)
      REFERENCES mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_opd_antenatal_usg_5 FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);




ALTER TABLE opd_antenatal_card_trimester
   ADD COLUMN others character varying(512);
   
   
   ALTER TABLE opd_antenatal_card
   ADD COLUMN usg_second_remarks character varying(512);
   
   
   ALTER TABLE opd_antenatal_card
   ADD COLUMN usg_third_remarks character varying(512);
   
   
   ALTER TABLE opd_antenatal_card ADD COLUMN inpatientid integer;
   
   
  ALTER TABLE opd_antenatal_card
  ADD CONSTRAINT fk_opd_antenatal_card_5 FOREIGN KEY (inpatientid)
      REFERENCES inpatient (inpatient_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION;


//-----------------------------------------------------------------


Added by Amit Das 21-09-2017
-----------------------------

CREATE TABLE public.central_server_sample_data
(
    id integer NOT NULL,
    sample_data text COLLATE pg_catalog."default",
    lean_Sample_id integer,
    central_sample_id integer,
    status character varying(1) COLLATE pg_catalog."default",
    hospital_id integer,
    CONSTRAINT central_server_sample_data_pkey PRIMARY KEY (id)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.central_server_sample_data
    OWNER to postgres;


CREATE TABLE public.lean_server_sample_data
(
    id integer NOT NULL,
    sample_data text COLLATE pg_catalog."default",
    lean_Sample_id integer,
    central_sample_id integer,
    status character varying(1) COLLATE pg_catalog."default",
    hospital_id integer,
    CONSTRAINT lean_server_sample_data_pkey PRIMARY KEY (id)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.lean_server_sample_data
    OWNER to postgres;

    CREATE SEQUENCE public.central_server_sample_data_id_seq
    INCREMENT 1
    START 1
    MINVALUE 1
    MAXVALUE 9223372036854775807
    CACHE 1;

ALTER SEQUENCE public.central_server_sample_data_id_seq
    OWNER TO postgres;



    CREATE SEQUENCE public.lean_server_sample_data_id_seq
    INCREMENT 1
    START 1
    MINVALUE 1
    MAXVALUE 9223372036854775807
    CACHE 1;

ALTER SEQUENCE public.lean_server_sample_data_id_seq
    OWNER TO postgres;




    CREATE TABLE public.central_server_result_data
(
    id integer NOT NULL,
    result_data text COLLATE pg_catalog."default",
    lean_result_id integer,
    central_result_id integer,
    status character varying(1) COLLATE pg_catalog."default",
    hospital_id integer,
    CONSTRAINT central_server_result_data_pkey PRIMARY KEY (id)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.central_server_result_data
    OWNER to postgres;


CREATE TABLE public.lean_server_result_data
(
    id integer NOT NULL,
    result_data text COLLATE pg_catalog."default",
    lean_result_id integer,
    central_result_id integer,
    status character varying(1) COLLATE pg_catalog."default",
    hospital_id integer,
    CONSTRAINT lean_server_result_data_pkey PRIMARY KEY (id)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.lean_server_result_data
    OWNER to postgres;

    CREATE SEQUENCE public.central_server_result_data_id_seq
    INCREMENT 1
    START 1
    MINVALUE 1
    MAXVALUE 9223372036854775807
    CACHE 1;

ALTER SEQUENCE public.central_server_result_data_id_seq
    OWNER TO postgres;

    CREATE SEQUENCE public.lean_server_result_data_id_seq
    INCREMENT 1
    START 1
    MINVALUE 1
    MAXVALUE 9223372036854775807
    CACHE 1;

ALTER SEQUENCE public.lean_server_result_data_id_seq
    OWNER TO postgres;
    
     // Added by Om tripathi 25/09/2017
  ALTER table mas_charge_code ADD COLUMN common_charge_code_status character varying(8);
  
  
25-09-2017
------------
Added by Govind
-----------------
  CREATE TABLE tapered_medicine_op
(
  tapered_id serial NOT NULL,
  prescription_id integer,
  item_id integer,
  frequency_id integer,
  dosage_detail character varying(200),
  dosage numeric(10,2),
  no_of_days integer,
  total numeric(14,2),
  CONSTRAINT pk__tapered_medicine_op PRIMARY KEY (tapered_id),
  CONSTRAINT fk_ppd_tapered FOREIGN KEY (prescription_id)
      REFERENCES patient_prescription_details (id),
  CONSTRAINT fk_mas_frequency_tapered FOREIGN KEY (frequency_id)
      REFERENCES mas_frequency (frequency_id),
  CONSTRAINT fk_msi_tapered FOREIGN KEY (item_id)
      REFERENCES mas_store_item (item_id) 
)

// Added by Om tripathi 27/09/2017

ALTER table dg_mas_investigation ADD COLUMN investigation_short_code character varying(8);
    
27-09-2017
------------
Added by Arbind
-----------------
 
 -- Table: hmis_hospital_report

-- DROP TABLE hmis_hospital_report;

CREATE TABLE hmis_hospital_report
(
  id serial,
  hospital_actual integer,
  hospital_modify integer,
  report_month integer,
  report_year integer,
  parameter_id integer,
  hospital_id integer,
  district_id integer,
  CONSTRAINT pk_hmis_hospital_report PRIMARY KEY (id),
  CONSTRAINT fk_hmis_hospital_report_001 FOREIGN KEY (parameter_id)
      REFERENCES mas_ph_reports_parameters (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_hmis_hospital_report_002 FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
  CONSTRAINT fk_hmis_hospital_report_003 FOREIGN KEY (district_id)
      REFERENCES mas_district (district_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT
)
WITH (
  OIDS=FALSE
);
ALTER TABLE hmis_hospital_report
  OWNER TO postgres;
  
  
//---------------------------added by anamika------09/10/2017--------------------------

ALTER TABLE patient
   ADD COLUMN verbal_status character varying(1);
   
   
     
  
  

12-10-2017
------------
Mansi
------------
  
ALTER TABLE opd_nicu_case_record ADD COLUMN genilals_female_equally_prominant character varying(100);
  
  
ALTER TABLE opd_neonatal_speciality ADD COLUMN b_wt character varying(10);

ALTER TABLE opd_neonatal_speciality ADD COLUMN birth_reg_no character varying(20);  

ALTER TABLE opd_neonatal_speciality ADD COLUMN mother_age character varying(10);  

//----------------------13-10-2017--------------Anamika----------

ALTER TABLE opd_antenatal_card_trimester
   ALTER COLUMN weght TYPE numeric(10,2);
  
  // Added by om tripathi 19/10/2017
  
  CREATE TABLE public.mas_survey_target
(
target_id serial,
district_survey_id integer,
institute_id integer,
from_date date,
to_date date,
phc_id integer,
status character varying(10),
remarks character varying(30),
create_date date,
update_date date,
created_by integer,
updated_by integer,
hospital_id integer,
hospital_type_id integer,
house_survey_id integer,
member_survey_id integer,
village_survey_id integer,
 annual_house_survey_target integer,
 annual_member_survey_target integer,
 monthly_house_survey_target integer,
monthly_member_survey_target integer,
 annual_house_survey_percent NUMERIC(8,3),
annual_member_survey_percent NUMERIC(8,3),
 monthly_house_survey_percent NUMERIC(8,3),
 monthly_member_survey_percent NUMERIC(8,3),

CONSTRAINT pk_survey_target_id PRIMARY KEY (target_id),
CONSTRAINT fk_hospital_target_id FOREIGN KEY (hospital_id)
REFERENCES public.mas_hospital (hospital_id) MATCH SIMPLE
ON UPDATE RESTRICT ON DELETE RESTRICT,
CONSTRAINT fk_district_target_id FOREIGN KEY (district_survey_id)
REFERENCES mas_district (district_id) MATCH SIMPLE
ON UPDATE RESTRICT ON DELETE RESTRICT, 
CONSTRAINT fk_hospital_type_target_id FOREIGN KEY (hospital_type_id)
REFERENCES public.mas_hospital_type (hospital_type_id) MATCH SIMPLE
ON UPDATE RESTRICT ON DELETE RESTRICT,
CONSTRAINT fk_member_survey_id FOREIGN KEY (member_survey_id)
REFERENCES public.ph_member_survey (survey_id) MATCH SIMPLE
ON UPDATE RESTRICT ON DELETE RESTRICT,
CONSTRAINT fk_survey_created_by_target FOREIGN KEY (created_by)
REFERENCES public.users (user_id) MATCH SIMPLE
ON UPDATE RESTRICT ON DELETE RESTRICT,
CONSTRAINT fk_updated_survey_target FOREIGN KEY (updated_by)
REFERENCES public.users (user_id) MATCH SIMPLE
ON UPDATE RESTRICT ON DELETE RESTRICT,
CONSTRAINT fk_village_survey_id FOREIGN KEY (village_survey_id)
REFERENCES public.ph_village_survey (survey_id) MATCH SIMPLE
ON UPDATE RESTRICT ON DELETE RESTRICT
)
WITH (
OIDS=FALSE
);
ALTER TABLE public.mas_survey_target
OWNER TO postgres;
-- Index: public.fki_survey_created_by_target
-- DROP INDEX public.fki_survey_created_by_target;
CREATE INDEX fki_survey_created_by_target
ON public.mas_survey_target
USING btree
(created_by);
-- Index: public.fki_updated_survey_target
-- DROP INDEX public.fki_updated_survey_target;
CREATE INDEX fki_updated_survey_target
ON public.mas_survey_target
USING btree
(updated_by);

 
// Added By Om Tripathi 19/08/2017  
  CREATE TABLE public.mas_survey_target_status
(
  id serial,
  status character varying(8),
  last_change_by integer,
  varified_by character varying(30),
  created_date date,
  created_time character varying(28),
  target_id integer,
  CONSTRAINT fk_survey_target_status_id PRIMARY KEY (id),
  CONSTRAINT fk_change_by00001_id FOREIGN KEY (last_change_by)
      REFERENCES public.users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_target_survey_target_001_id FOREIGN KEY (target_id)
      REFERENCES public.mas_survey_target (target_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.mas_survey_target_status
  OWNER TO postgres;

-- Index: public.fki_target_survey_target_001_id

-- DROP INDEX public.fki_target_survey_target_001_id;

CREATE INDEX fki_target_survey_target_001_id
  ON public.mas_survey_target_status
  USING btree
  (target_id);
   
=================================   
Added by govind on 23-10-2017
================================
ALTER TABLE opd_patient_details
   ALTER COLUMN weight TYPE numeric(10,3);
   
  ****************************
 |*|========================|*|
 |*| Added By Om Tripathi   |*|
 |*|========================|*|
  **************************** 
 
 ALTER TABLE mas_survey_target  ADD COLUMN short_name character varying(100);  
 

=================================   
Added by Amit Das on 24-10-2017
================================
  
 -- Function: ledger_new(date, date, integer, integer, integer)

-- DROP FUNCTION ledger_new(date, date, integer, integer, integer);

CREATE OR REPLACE FUNCTION ledger_new(
    lowdate date,
    udate date,
    dept integer,
    item integer,
    hospital integer)
  RETURNS void AS
$BODY$
Declare v_date date; 
Declare v_particulars character varying(100); 
Declare v_quantity float default 0;
Declare v_issue float default 0; 
Declare v_return float default 0; 
Declare v_item integer default 0; 
Declare v_vendor integer default 0; 
Declare v_flag integer default 1; 
Declare v_supplier_id integer default null; 
Declare v_unit integer default 0; 
Declare v_srno integer default 0; 
Declare op_date date; 
declare op_bal float default 0; 
Declare temp_v_from_date date; 
Declare temp_v_to_date date; 
Declare done integer default 0;
Declare v_batch character varying(100); 
Declare v_manufuturer character varying(100); 
Declare v_cost float default 0; 
Declare v_manufuturer_date date; 
Declare v_expiry_date date;
Declare v_issue_receipt_no character varying(40); 
Declare v_department_name character varying(80);

-- cursor for opening balance--
Declare cur_open cursor for (select sibs.opening_balance_date,'Opening Balance',sibs.item_id,
sum(sibs.opening_balance_qty), '1' , batch_no, mm.manufacturer_name, sibs.cost_price,sibs.manufacture_date,sibs.expiry_date
from store_item_batch_stock sibs 
left join mas_manufacturer mm on mm.manufacturer_id = sibs.manufacturer_id
where sibs.opening_balance_date is not null 
and sibs.department_id = dept and sibs.item_id = item and sibs.hospital_id = hospital
group by sibs.item_id,batch_no,sibs.opening_balance_date,mm.manufacturer_name, sibs.cost_price,sibs.manufacture_date,sibs.expiry_date); 

-- cursor for grn--
Declare cur_grn cursor for (select sgm.grn_date, concat(msp.supplier_name, '-(' ,sgm.grn_no,')','- ',sgm.invoice_no), sgt.item_id , 
sum(coalesce((sgt.received_qty + sgt.free_qty),0)),
'2',sgm.supplier_id,sgt.batch_no,sgm.invoice_no
from store_grn_m sgm
left outer join store_grn_t sgt on sgt.grn_master_id = sgm.grn_master_id
left outer join mas_store_supplier msp on msp.supplier_id = sgm.supplier_id
where sgm.department_id = dept
and sgm.grn_date between lowdate and udate
and sgt.item_id = item and sgm.hospital_id = hospital
group by sgm.grn_date, sgt.item_id,sgt.batch_no,sgm.grn_no,sgm.supplier_id,msp.supplier_name,sgm.invoice_no);


-- cursor for department issues-- 
DECLARE cur_issues cursor for (
select sim.issue_date,concat('Issue - ','(',sim.issue_no,') '),sit.item_issued,
sum(coalesce(sit.qty_issued,0)), '3' ,sit.batch_no,sim.issue_no
from store_issue_m sim 
left join store_issue_t sit on sim.id = sit.issue_m_id
where sim.issue_date between lowdate and udate and sim.department_id = dept and sim.hospital_id = hospital
and sit.issue_m_id = sim.id and sim.issue_type = 'i' and sit.item_id = item
and sit.issued = 'y' group by sim.id,sit.item_issued,sit.batch_no,sim.issue_no);

-- cursor for department indent received-- 
DECLARE cur_indent cursor for (select sim.issue_date,concat('Indent - ',mdt.department_name,'-(',sim.issue_no,') '),sit.item_issued,
sum(coalesce(sit.qty_issued,0)), '2' ,sit.batch_no,sim.issue_no,mdt.department_name
from store_issue_m sim, store_issue_t sit,mas_department mdt
where sim.issue_date between lowdate and udate and sim.to_store = dept and sim.hospital_id = hospital
and sit.issue_m_id = sim.id and sim.issue_type = 'i' and sit.item_issued = item and mdt.department_id = sim.department_id
and sit.issued = 'y' group by sim.id,sit.item_issued,sit.batch_no,mdt.department_name,sim.issue_no); 



-- cursor to update closing stock-- 
Declare closingStockUpdateCursor cursor for(select sno,stock_date,qty,flag,issue,qty_return,batch_no from ledger where dept_id = dept and item_id = item 
and flag!='0' order by stock_date asc ); 

BEGIN 

delete from ledger; -- delete from ledger table--

-- function for getting opening balance--
Open cur_open; 
loop
fetch cur_open into v_date, v_particulars, v_item, v_quantity, v_flag,v_batch, v_manufuturer,v_cost,v_manufuturer_date,v_expiry_date;
if not found then
exit;
end if;
if not (v_date > lowdate) then 
op_bal = v_quantity; 
op_date = v_date;
else
insert into ledger(particulars,qty,item_id,flag,dept_id,closing_stock,issue,qty_return,batch_no,manfuture_name,rate,manufacturer_date,expiry_date,issue_recepit_no,hospital_id) values(v_particulars, v_quantity, v_item,v_flag,dept,0,0,0,v_batch,v_manufuturer,v_cost,v_manufuturer_date,v_expiry_date,'',hospital); 
end if;
End loop;
close cur_open;


-- function for department issues--
Open cur_issues;
loop
fetch cur_issues into v_date, v_particulars, v_item, v_quantity, v_flag,v_batch,v_issue_receipt_no,v_department_name;
if not found then
exit;
else
insert into ledger(stock_date, particulars,qty,item_id,flag,dept_id,closing_stock,issue,qty_return,batch_no,manfuture_name,rate,manufacturer_date,expiry_date,issue_recepit_no,department_name) values(v_date,v_particulars,0, v_item,v_flag,dept,0,v_quantity,0,v_batch,'',0,NULL,NULL,v_issue_receipt_no,v_department_name); 
end if;
End loop;
close cur_issues; 

-- function for department indent--
Open cur_indent;
loop
fetch cur_indent into v_date, v_particulars, v_item, v_quantity, v_flag,v_batch,v_issue_receipt_no,v_department_name;
if not found then
exit;
else
insert into ledger(stock_date, particulars,qty,item_id,flag,dept_id,closing_stock,issue,qty_return,batch_no,manfuture_name,rate,manufacturer_date,expiry_date,issue_recepit_no,department_name) values(v_date,v_particulars,v_quantity, v_item,v_flag,dept,0,0,0,v_batch,'',0,NULL,NULL,v_issue_receipt_no,v_department_name); 
end if;
End loop;
close cur_indent; 


-- fuction for calculating closing stock--
Open closingStockUpdateCursor;
loop
Fetch closingStockUpdateCursor into v_srno,v_date, v_quantity, v_flag,v_issue,v_return,v_batch;
If not found then 
exit;
End if; 
op_bal = 0;
if v_flag = 2 or v_flag = 1 then 
op_bal = op_bal + v_quantity; 
else
op_bal = op_bal - (v_issue + v_return);
end if; 

update ledger set closing_stock = op_bal where sno = v_srno; 

End loop; 
Close closingStockUpdateCursor; 

END
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION ledger_new(date, date, integer, integer, integer)
  OWNER TO postgres;

 
 
 
 
//------------------ 20-10-2017--------------------Mansi-------------

ALTER TABLE opd_respiratory_speciality_header ADD COLUMN breath_sounds character varying(20);
ALTER TABLE opd_respiratory_speciality_header ADD COLUMN breath_sounds_value character varying(50);

 
 //------------------ 25-10-2017--------------------Mansi-------------
ALTER TABLE opd_general_surgery_past_speciality ADD COLUMN details_one character varying(50);
ALTER TABLE opd_general_surgery_past_speciality ADD COLUMN details_two character varying(50);
ALTER TABLE opd_general_surgery_past_speciality ADD COLUMN others_another character varying(128);
ALTER TABLE opd_general_surgery_speciality  ALTER COLUMN local_vessel TYPE character varying(10);
 
------------ Added by Babita Dangwal on 24-10-2017  -----------------
  
alter table Opd_Antenatal_Card
alter column nipple type character varying(10);

alter table Opd_Antenatal_Card
alter column breast type character varying(10);
  
---- Added by Ritu ---- Date 25-10-2017


  CREATE TABLE patient_snomed_details
(
  patient_snomed_details_id serial NOT NULL,
  hin_id integer,
  visit_id integer,
  snomed_concept_id character varying(32),
  snomed_concept_desc character varying(512),
  field_type character varying(64),
  CONSTRAINT "PK_patient_snomed_details" PRIMARY KEY (patient_snomed_details_id),
  CONSTRAINT "FK_PSD_1" FOREIGN KEY (hin_id)
      REFERENCES patient (hin_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT "FK_PSD_2" FOREIGN KEY (visit_id)
      REFERENCES visit (visit_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE patient_snomed_details
  OWNER TO hms;
  
  
  //------------- 26-10-2017-----------Added by Jyotish Kumar---------
ALTER TABLE opd_orthopedic_speciality ALTER COLUMN nature_of_injury TYPE character varying(200);


===========================
Added by govind 26-10-2017
============================
CREATE TABLE tapered_medicine_ip
(
  tapered_id serial NOT NULL,
  prescription_id integer,
  item_id integer,
  frequency_id integer,
  dosage_detail character varying(200),
  dosage numeric(10,2),
  no_of_days integer,
  total numeric(14,2),
  CONSTRAINT pk__tapered_medicine_ip PRIMARY KEY (tapered_id),
  CONSTRAINT fk_ppd_tapered_ip FOREIGN KEY (prescription_id)
      REFERENCES inpatient_prescription_details (id),
  CONSTRAINT fk_mas_frequency_tapered_ip FOREIGN KEY (frequency_id)
      REFERENCES mas_frequency (frequency_id),
  CONSTRAINT fk_msi_tapered_ip FOREIGN KEY (item_id)
      REFERENCES mas_store_item (item_id) 
)


 //------------------ 27-10-2017--------------------Mansi-------------

ALTER TABLE opd_ent_examination_speciality ADD COLUMN laryngeal_crepitus_another character varying(10);

  //------------------------added by anamika 27/10/2017
  ALTER TABLE opd_patient_details
   ADD COLUMN head_circumference numeric(10,2);
  
  ------------ Added by Babita Dangwal on 27-10-2017  -----------------

alter table opd_medicine_arterial_blood_pressure add column abp_position_other varchar(15);

alter table opd_medicine_speciality_template add column remarks varchar(500);
alter table opd_medicine_speciality_template add column nervous_system varchar(500);
alter table opd_medicine_speciality_template add column respiratory_system varchar(500);
alter table opd_medicine_speciality_template add column gastrointestinal_system varchar(500);
alter table opd_medicine_speciality_template add column locomotor_system varchar(500);
alter table opd_medicine_speciality_template add column haematology varchar(500);
alter table opd_medicine_speciality_template add column nephrology varchar(500);
alter table opd_medicine_speciality_template add column cardiovascular_system varchar(500);
alter table opd_medicine_speciality_template add column pallor varchar(1);
alter table opd_medicine_speciality_template add column  pallor_remarks varchar(30);
alter table opd_medicine_speciality_template add column jaundice varchar(1);
alter table opd_medicine_speciality_template add column  jaundice_remarks varchar(30);
alter table opd_medicine_speciality_template add column cyanosis varchar(1);
alter table opd_medicine_speciality_template add column  cyanosis_remarks varchar(30);
alter table opd_medicine_speciality_template add column clubbing varchar(1);
alter table opd_medicine_speciality_template add column  clubbing_remarks varchar(30);
alter table opd_medicine_speciality_template add column lymphadenopathy varchar(1);
alter table opd_medicine_speciality_template add column  lymphadenopathy_remarks varchar(30);
alter table opd_medicine_speciality_template add column oedema varchar(1);
alter table opd_medicine_speciality_template add column  oedema_remarks varchar(30);

--------Added by Arbind on 28-10-2017-----
ALTER TABLE opd_vaccination_plan
  ADD COLUMN refer_date date;
ALTER TABLE opd_vaccination_plan
  ADD COLUMN refer_dept_id integer;
ALTER TABLE opd_vaccination_plan
  ADD COLUMN refer_remarks character varying(200);
ALTER TABLE opd_vaccination_plan
  ADD COLUMN refer_status character varying(1);
  
--------  Added by Babita Dangwal on 30-10-2017  -----
alter table opd_medicine_speciality_template
alter column waves type varchar(30)
alter table opd_medicine_speciality_template
alter column waves_v type varchar(160)

//Added By Om tripathi 30/10/2017

ALTER TABLE mas_survey_target add column health_block integer;
ALTER TABLE mas_survey_target add column basic_section_sub_center_name character varying(100);
ALTER TABLE mas_survey_target add column chc_institute_id integer;
ALTER TABLE mas_survey_target add column basic_sub_center_institute_id integer;

ALTER TABLE mas_survey_target
ADD CONSTRAINT fk_helthblock_0007 FOREIGN KEY (health_block)
REFERENCES mas_hospital(hospital_id) MATCH SIMPLE
ON UPDATE RESTRICT ON DELETE RESTRICT,
ADD CONSTRAINT fk_chc_phcinstitute_0007 FOREIGN KEY (chc_institute_id)
REFERENCES mas_hospital(hospital_id) MATCH SIMPLE
ON UPDATE RESTRICT ON DELETE RESTRICT,
ADD CONSTRAINT fk_subcenter_0007 FOREIGN KEY (basic_sub_center_institute_id)
REFERENCES mas_hospital(hospital_id) MATCH SIMPLE
ON UPDATE RESTRICT ON DELETE RESTRICT;

CREATE SEQUENCE hibernate_sequence START WITH 1 INCREMENT BY 1 NO CYCLE;
alter table mas_survey_target add column house_survey_from_date date;
alter table mas_survey_target add column house_survey_to_date date;
alter table mas_survey_target add column member_survey_from_date date;
alter table mas_survey_target add column member_survey_to_date date;
alter table mas_survey_target add column house_visit_from_date date;
alter table mas_survey_target add column house_visit_to_date date;

  --------  Added by Amit Das on 31-10-2017  -----
  
 ALTER TABLE public.opd_patient_details
  ADD COLUMN menstrual_and_obstetric_history character varying(2000);
ALTER TABLE public.opd_patient_details
  ADD COLUMN p_or_s_data character varying(1000);
ALTER TABLE public.opd_patient_details
  ADD COLUMN p_or_v_data character varying(1000);
ALTER TABLE public.opd_patient_details
  ADD COLUMN p_or_r_data character varying(1000);
ALTER TABLE public.opd_patient_details
  ADD COLUMN procedure_done character varying(1000);
ALTER TABLE public.opd_patient_details
  ADD COLUMN cervical_smear character varying(1);
ALTER TABLE public.opd_patient_details
  ADD COLUMN treatment_plan character varying(2000);
ALTER TABLE public.opd_patient_details
  ADD COLUMN development_history character varying(1000);
ALTER TABLE public.opd_patient_details
  ADD COLUMN diet_history character varying(1000);
  
  -----Added by Jyotish Kumar on 31-10-2017----
  
  CREATE TABLE external_lab_report(record_id SERIAL PRIMARY KEY NOT NULL, test_Name VARCHAR(32), test_result VARCHAR(20),
visit_id INTEGER REFERENCES visit(visit_id), hin_id INTEGER REFERENCES patient(hin_id),
                                 hospital_id INTEGER REFERENCES mas_hospital(hospital_id));
                                 
=================================   
Added by govind on 30-10-2017
================================
alter table tapered_medicine_ip add column last_change_date date DEFAULT ('now'::text)::date;
alter table tapered_medicine_op add column last_change_date date DEFAULT ('now'::text)::date;

 --------Added by Arbind on 31-10-2017-----
             
 ALTER TABLE mas_assessment 
  ALTER COLUMN assessment_name TYPE character varying(100);
  
 ALTER TABLE blood_request_entry_header
  ADD COLUMN blood_consent_status character varying(1);
 
 -- Table: blood_consent

-- DROP TABLE blood_consent;

CREATE TABLE blood_consent
(
  consent_id serial NOT NULL,
  name character varying(50),
  consent_cause character varying(200),
  address character varying(500),
  date date,
  procedure_explianed character varying(5),
  relation_id integer NOT NULL,
  hin_id integer,
  CONSTRAINT pk_blood_consent PRIMARY KEY (consent_id),
  CONSTRAINT fk_blood_consent_001 FOREIGN KEY (relation_id)
      REFERENCES mas_relation (relation_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_blood_consent_002 FOREIGN KEY (hin_id)
      REFERENCES patient (hin_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE blood_consent
  OWNER TO postgres;
GRANT ALL ON TABLE blood_consent TO postgres;

ALTER TABLE upload_documents
  ADD COLUMN blood_consent_letter character varying(1);
 
              
 
 
//------------------ 02-11-2017--------------------Mansi-------------
 
ALTER TABLE opd_neonatal_speciality  ALTER COLUMN blood_group TYPE character varying(30);
ALTER TABLE opd_neonatal_speciality DROP COLUMN lmp;
ALTER TABLE opd_neonatal_speciality DROP COLUMN edd;
ALTER TABLE opd_neonatal_speciality  ADD COLUMN lmp date;
ALTER TABLE opd_neonatal_speciality  ADD COLUMN edd date;
//------------------ 03-11-2017--------------------Mansi-------------
ALTER TABLE opd_ent_examination_speciality ADD COLUMN lymphenodes_value character(256);
ALTER TABLE opd_ent_examination_speciality DROP COLUMN left_facial_nreve;
ALTER TABLE opd_ent_examination_speciality ADD COLUMN left_facial_nreve character varying(32);
ALTER TABLE opd_neonatal_speciality  ADD COLUMN edd date;




//----------added by anamika----------03-11-2017----------------------------

ALTER TABLE opd_general_surgery_speciality ADD COLUMN generalized_lymphadenopathy_txt_value character varying(100);


//------------------ 08-11-2017--------------------Mansi-------------

ALTER TABLE opd_general_proforma_header ADD COLUMN distribution character varying(500);

ALTER TABLE opd_dermatology_leprosy_proforma ALTER COLUMN past_history_others_value TYPE character varying(128);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN pallor character varying(4);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN cyanosis character varying(4);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN jaundice character varying(4);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN lymphadenopathy character varying(4);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN edema character varying(4);



ALTER TABLE opd_medicine_speciality_template
   ALTER COLUMN waves_v TYPE character varying(500);
ALTER TABLE opd_medicine_speciality_template
   ALTER COLUMN waves TYPE character varying(500);

   
ALTER TABLE opd_general_surgery_speciality ADD COLUMN generalized_lymphadenopathy_txt_value character varying(100);

??

//-----Added by Kamalesh ---- 08-11-2017------------------

create sequence ot_post_anaesthisia_pain_management_opn_id_seq;

//.........................added By Awadhesh....08-11-2017...........


CREATE TABLE public.ot_post_anaesthisia_pain_management
(
  opn_id integer NOT NULL DEFAULT nextval('ot_post_anaesthisia_pain_management_opn_id_seq'::regclass),
  part_name character varying(50),
  periscope_value integer,
  periscope_name character varying(50),
  ot_post_anaesthisia_procedure_id integer,
  time_of_update character varying(10),
  date_of_update date,
  period integer,
  add_edit_by_id integer,
  status_of_reading character varying(1),
  patient_admit_status character varying(1),
  hospital_id integer,
  CONSTRAINT pk_opn_id PRIMARY KEY (opn_id),
  CONSTRAINT fk_emp_id_pain_magt FOREIGN KEY (add_edit_by_id)
      REFERENCES public.mas_employee (employee_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_hosp_pain_managt FOREIGN KEY (hospital_id)
      REFERENCES public.mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_ot_book_post_anas_pain_magt FOREIGN KEY (ot_post_anaesthisia_procedure_id)
      REFERENCES public.ot_booking (booking_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.ot_post_anaesthisia_pain_management
  OWNER TO postgres;



CREATE INDEX fki_ot_post_anaesthisia_pain_management
  ON public.ot_post_anaesthisia_pain_management
  USING btree
  (ot_post_anaesthisia_procedure_id);

  
  
  //------------------------ 09/11/2017 by mansi----------------
  
  ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN site_earlobe character varying(32);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN site_skinlesion character varying(32);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN site_normallesion character varying(32);


ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN morphological_earlobe character varying(32);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN morphological_skinlesion character varying(32);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN morphological_normallesion character varying(32);


ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN bacterial_earlobe character varying(32);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN bacterial_skinlesion character varying(32);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN bacterial_normallesion character varying(32);

//------------------------ 10/11/2017 by mansi----------------
ALTER TABLE opd_dermatology_leprosy_proforma  ALTER COLUMN right_site_eyes TYPE character varying(32);
ALTER TABLE opd_general_proforma_header ADD COLUMN family_history character varying(32);
ALTER TABLE opd_general_proforma_header
   ALTER COLUMN drug_history TYPE character varying(300);


 //---------------------------- 13/11/2017 by mansi-----------------------------
 ALTER TABLE opd_general_surgery_speciality DROP COLUMN type_of_delivery;
ALTER TABLE opd_general_surgery_speciality ADD COLUMN type_of_delivery integer;
ALTER TABLE opd_general_surgery_speciality
  ADD CONSTRAINT fk_opd_general_surgery_speciality_003 FOREIGN KEY (type_of_delivery)
      REFERENCES mas_delivery_type (delivery_type_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION;
      
ALTER TABLE opd_general_surgery_speciality  ALTER COLUMN bones TYPE character varying(300);
ALTER TABLE opd_general_surgery_speciality  ALTER COLUMN genitalia TYPE character varying(300);
ALTER TABLE opd_general_surgery_speciality  ALTER COLUMN joints TYPE character varying(300);
ALTER TABLE opd_general_surgery_speciality  ALTER COLUMN nails TYPE character varying(300);
ALTER TABLE opd_general_surgery_speciality  ALTER COLUMN nerves TYPE character varying(300);
ALTER TABLE opd_general_surgery_speciality  ALTER COLUMN scalp TYPE character varying(300);
ALTER TABLE opd_general_surgery_speciality  ALTER COLUMN skin TYPE character varying(300);
ALTER TABLE opd_general_surgery_speciality  ALTER COLUMN skull TYPE character varying(300);
ALTER TABLE opd_general_surgery_speciality  ALTER COLUMN spine TYPE character varying(300);
ALTER TABLE opd_general_surgery_speciality  ALTER COLUMN vessels TYPE character varying(300);

   
   

 //---------------------------- 14/11/2017 by mansi-----------------------------
ALTER TABLE opd_maxillofacial_prosthesis
   ALTER COLUMN dental_history TYPE character varying(300);
   
ALTER TABLE opd_maxillofacial_prosthesis
   ALTER COLUMN clicking_value TYPE character varying(128);

ALTER TABLE opd_removable_partial_prosthodontics_header
   ALTER COLUMN history_of_allergy_value TYPE character varying(128);

ALTER TABLE opd_removable_partial_prosthodontics_header
   ALTER COLUMN dental_history TYPE character varying(300);

ALTER TABLE opd_removable_partial_prosthodontics_header
   ALTER COLUMN clicking_value TYPE character varying(128);

ALTER TABLE opd_removable_partial_prosthodontics_header
   ALTER COLUMN pain_value TYPE character varying(128);


ALTER TABLE opd_removable_partial_prosthodontics_header
   ALTER COLUMN deviation_value TYPE character varying(128);


ALTER TABLE opd_removable_partial_prosthodontics_header
   ALTER COLUMN interferences_in_movements TYPE character varying(128);


ALTER TABLE opd_removable_partial_prosthodontics_header
   ALTER COLUMN treatment_planning TYPE character varying(300);


ALTER TABLE opd_implant_planning_header
   ALTER COLUMN history_of_allergy_value TYPE character varying(128);


ALTER TABLE opd_implant_planning_header
   ALTER COLUMN dental_history TYPE character varying(300);

ALTER TABLE opd_implant_planning_header
   ALTER COLUMN placement_position TYPE character varying(128);


ALTER TABLE opd_implant_planning_header
   ALTER COLUMN suitability_for_implants TYPE character varying(128);

ALTER TABLE opd_implant_planning_header
   ALTER COLUMN edentulous_ridge TYPE character varying(128);


ALTER TABLE opd_implant_planning_header
   ALTER COLUMN soft_hard_tissue TYPE character varying(128);

 
 ALTER TABLE opd_fixed_prosthodontics_header
   ALTER COLUMN history_of_allergy_value TYPE character varying(128);
 
 
 ALTER TABLE opd_fixed_prosthodontics_header
   ALTER COLUMN dental_history TYPE character varying(300);
 
 
 ALTER TABLE opd_fixed_prosthodontics_header
   ALTER COLUMN clicking_value TYPE character varying(128);
 
 
 ALTER TABLE opd_fixed_prosthodontics_header
   ALTER COLUMN pain_value TYPE character varying(128);
 
 
 ALTER TABLE opd_fixed_prosthodontics_header
   ALTER COLUMN deviation_value TYPE character varying(128);
 
 
 ALTER TABLE opd_fixed_prosthodontics_header
   ALTER COLUMN interferences_in_movements TYPE character varying(128);
 
 
 ALTER TABLE opd_fixed_prosthodontics_header
   ALTER COLUMN residual_roots_value TYPE character varying(128);
 
 
 ALTER TABLE opd_fixed_prosthodontics_header
   ALTER COLUMN periapical_status_value TYPE character varying(128);
 
 
 ALTER TABLE opd_fixed_prosthodontics_header
   ALTER COLUMN root_resorption_value TYPE character varying(128);
 
 
 ALTER TABLE opd_fixed_prosthodontics_header
   ALTER COLUMN crown_root_ratio_value TYPE character varying(128);
 
 
 ALTER TABLE opd_fixed_prosthodontics_header
   ALTER COLUMN continuity_of_lamina_dura_value TYPE character varying(128);
 
 
 ALTER TABLE opd_fixed_prosthodontics_header
   ALTER COLUMN vertical_horizontal_value TYPE character varying(128);
   
  
------------ Added by Babita Dangwal on 14-11-2017  -----------------
  
CREATE TABLE opd_contact_lens_template
(
  contact_lens_template_id serial NOT NULL,
  hin_id integer,
  opd_patient_details_id integer,
  def_vision_le character varying(10),
  defective_vis_le_dur character varying(5),
  def_dur_type_le character varying(6),
  def_vision_re character varying(10),
  defective_vis_re_dur character varying(5),
  def_dur_type_re character varying(6),
  pt_contact_lens character varying(1),
  pt_cont_lens_dur character varying(5),
  pt_cont_lens_dur_type character varying(6),
  pt_cont_lens_value character varying(10),
  pt_cont_lens_value_others character varying(10),
  pt_spect character varying(1),
  pt_spect_dur character varying(5),
  pt_spect_dur_type character varying(6),
  vision_unaided_dist_re character varying(5),
  vision_unaided_dist_le character varying(5),
  vision_unaided_near_re character varying(5),
  vision_unaided_near_le character varying(5),
  vision_pt_dis_re character varying(5),
  vision_pt_dis_le character varying(5),
  vision_pt_near_re character varying(5),
  vision_pt_near_le character varying(5),
  sph_dist_re character varying(5),
  cyl_dist_re character varying(5),
  axix_dist_re character varying(5),
  sph_dist_le character varying(5),
  cyl_dist_le character varying(5),
  axix_dist_le character varying(5),
  sph_near_re character varying(5),
  cyl_near_re character varying(5),
  axix_near_re character varying(5),
  sph_near_le character varying(5),
  cyl_near_le character varying(5),
  axix_near_le character varying(5),
  k1_re character varying(5),
  k1_le character varying(5),
  k2_re character varying(5),
  k2_le character varying(5),
  r1_re character varying(5),
  r1_le character varying(5),
  r2_re character varying(5),
  r2_le character varying(5),
  sl_exam_lid_margin character varying(35),
  sl_exam_utc character varying(35),
  sl_exam_tbut character varying(35),
  sl_exam_others character varying(35),
  remarks character varying(100),
  contact_lens_vision character varying(100),
  over_refraction character varying(100),
  others character varying(100),
  trail_i_value1 character varying(10),
  trail_i_value2 character varying(10),
  lens_order_value1 character varying(10),
  lens_order_value2 character varying(10),
  cl_solution character varying(1),
  lens_case character varying(1),
  CONSTRAINT pk_contact_lens_template PRIMARY KEY (contact_lens_template_id),
  CONSTRAINT fk_contact_lens_template_id_001 FOREIGN KEY (hin_id)
      REFERENCES patient (hin_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
  CONSTRAINT fk_contact_lens_template_id_002 FOREIGN KEY (opd_patient_details_id)
      REFERENCES opd_patient_details (id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT
)
WITH (
  OIDS=FALSE
);
ALTER TABLE opd_contact_lens_template
  OWNER TO postgres;
   
 ------------ Added by Jyotish Kumar on 14-11-2017  -----------------  
 
alter table opd_antenatal_card_trimester add COLUMN fh VARCHAR(100);
alter table opd_antenatal_card add COLUMN edc_Date TIMESTAMP;
alter table opd_antenatal_card add COLUMN marital_status VARCHAR(20);
alter table opd_antenatal_card add COLUMN cycle_flow VARCHAR(100);
alter table opd_antenatal_card add COLUMN ocps VARCHAR(20);
alter table opd_antenatal_card add COLUMN tubal_ligation VARCHAR(20);
alter table opd_antenatal_card add COLUMN condom VARCHAR(20);
alter table opd_antenatal_card add COLUMN lam VARCHAR(20);
alter table opd_antenatal_card add COLUMN ppiucd VARCHAR(20);
alter table opd_antenatal_card add COLUMN vasectomy VARCHAR(20);
alter table opd_antenatal_card add COLUMN interval_iucd VARCHAR(20);
alter table opd_antenatal_card add COLUMN none VARCHAR(20);
 
 -- ---------- Added by Swarup on 15-11-2017  -----------------  
  CREATE SEQUENCE public.opd_audiological_exam_ent_speciality_audiological_speciality_id
  INCREMENT 1
  MINVALUE 1
  MAXVALUE 9223372036854775807
  START 1
  CACHE 1;
	ALTER TABLE public.opd_audiological_exam_ent_speciality_audiological_speciality_id
  OWNER TO postgres;
  
  -- ---------- Added by Swarup on 15-11-2017  -----------------  
CREATE TABLE public.opd_audiological_exam_ent_speciality
(
  audiological_speciality_id integer NOT NULL DEFAULT nextval('opd_audiological_exam_ent_speciality_audiological_speciality_id'::regclass),
  visit_id integer,
  hin_id integer,
  case_name character varying(50),
  age character varying(50),
  gender character varying(10),
  case_no character varying(30),
  test_no character varying(30),
  tested_by character varying(20),
  audiometer character varying(256),
  audiogram_right character varying(256),
  audiogram_left character varying(256),
  pta_db_right integer,
  pta_db_left integer,
  tymp_ear_cv_right integer,
  tymp_ear_cv_left integer,
  tymp_static_com_rht integer,
  tymp_static_com_lft integer,
  tymp_mid_ear_pre_rht integer,
  tymp_mid_ear_pre_lft integer,
  tymp_type_rht character varying(10),
  tymp_type_lft character varying(10),
  remarks character varying(100),
  ac_unmas_rht character varying(2),
  ac_unmas_lft character varying(2),
  ac_unmas_nr_rht character varying(2),
  ac_unmas_nr_lft character varying(2),
  bc_unmas_rht character varying(2),
  bc_unmas_lft character varying(2),
  bc_unmas_nr_rht character varying(2),
  bc_unmas_nr_lft character varying(2),
  ac_mas_rht character varying(2),
  ac_mas_lft character varying(2),
  ac_mas_nr_rht character varying(2),
  ac_mas_nr_lft character varying(2),
  bc_mas_rht character varying(2),
  bc_mas_lft character varying(2),
  bc_mas_nr_rht character varying(2),
  bc_mas_nr_lft character varying(2),
  assigned_id integer,
  last_chg_by integer,
  last_chg_date date,
  last_chg_time character varying(10),
  srt_500hz_rht_ipsi integer,
  srt_500hz_rht_contra integer,
  srt_500hz_lft_ipsi integer,
  srt_500hz_lft_contra integer,
  srt_1khz_rht_ipsi integer,
  srt_1khz_rht_contra integer,
  srt_1khz_lft_ipsi integer,
  srt_1khz_lft_contra integer,
  srt_2khz_rht_ipsi integer,
  srt_2khz_rht_contra integer,
  srt_2khz_lft_ipsi integer,
  srt_2khz_lft_contra integer,
  srt_4khz_rht_ipsi integer,
  srt_4khz_rht_contra integer,
  srt_4khz_lft_ipsi integer,
  srt_4khz_lft_contra integer,
  srt_other_tests character varying(100),
  CONSTRAINT pk_opd_audiological_exam_ent_speciality PRIMARY KEY (audiological_speciality_id),
  CONSTRAINT fk_opd_audiological_exam_ent_specility_001 FOREIGN KEY (hin_id)
      REFERENCES public.patient (hin_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
  CONSTRAINT fk_opd_audiological_exam_ent_specility_002 FOREIGN KEY (assigned_id)
      REFERENCES public.users (user_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.opd_audiological_exam_ent_speciality
  OWNER TO postgres;
  
   -- ---------- Added by Jyotish on 15-11-2017  -----------------  
   
alter table opd_antenatal_card add COLUMN waist integer;

alter table opd_antenatal_card add COLUMN hip integer;
 
 
 //---------------------------- 16/11/2017 by mansi-----------------------------
  
 ALTER TABLE opd_patient_history ADD COLUMN physical_examination character varying(500);
 
 ---------------------------- 17/11/2017 by Jyotish Kumar----------------------------- 
 alter table opd_antenatal_usg add COLUMN first_trim_weeks VARCHAR(20);
 
 ------------ Added by Babita Dangwal on 16-11-2017  -----------------
 
CREATE TABLE lr_procedure_done
(
  lr_procedure_done_id serial NOT NULL,
  procedure_done_date date,
  procedure_done_time character varying(10),
  findings character varying(256),
  labor_room_type integer,
  inpatient_id integer,
  employee_id integer,
  hospital_id integer,
  department_id integer,
  last_chg_by integer,
  last_chg_date timestamp without time zone,
  last_chg_time character varying(10),
  CONSTRAINT pk_lr_procedure_done PRIMARY KEY (lr_procedure_done_id),
  CONSTRAINT fk_lr_procedure_done_dept FOREIGN KEY (department_id)
      REFERENCES mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_procedure_done_employee FOREIGN KEY (employee_id)
      REFERENCES mas_employee (employee_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_procedure_done_hospital FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_procedure_done_inpatient FOREIGN KEY (inpatient_id)
      REFERENCES inpatient (inpatient_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_procedure_done_user FOREIGN KEY (last_chg_by)
      REFERENCES users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);


CREATE TABLE lr_induction
(
  lr_induction_id serial NOT NULL,
  induction_date date,
  induction_time character varying(10),
  medicine_given character varying(5),
  arm character varying(1),
  arm_details character varying(50),
  labor_room_type integer,
  inpatient_id integer,
  employee_id integer,
  hospital_id integer,
  department_id integer,
  last_chg_by integer,
  last_chg_date timestamp without time zone,
  last_chg_time character varying(10),
  CONSTRAINT pk_lr_induction PRIMARY KEY (lr_induction_id),
  CONSTRAINT fk_lr_induction_dept FOREIGN KEY (department_id)
      REFERENCES mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_induction_employee FOREIGN KEY (employee_id)
      REFERENCES mas_employee (employee_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_induction_hospital FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_induction_inpatient FOREIGN KEY (inpatient_id)
      REFERENCES inpatient (inpatient_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_induction_user FOREIGN KEY (last_chg_by)
      REFERENCES users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);


 -- ---------- Added by Swarup on 15-11-2017  ----------------- 
 
ALTER TABLE public.opd_audiological_exam_ent_speciality ADD COLUMN remarks character varying(150);

--------Added by Arbind on 20-11-2017-----

ALTER TABLE opd_nursing_patient_details ALTER COLUMN weight TYPE NUMERIC(10,3);

 --------Added by Jyotish on 20-11-2017-----
 
alter table opd_medicine_speciality_template add COLUMN oedema_comments VARCHAR(100);

 --------Added by Jyotish on 21-11-2017-----

alter table opd_ent_examination_speciality add COLUMN left_columella VARCHAR(32);
alter table opd_ent_examination_speciality add COLUMN left_columella_value VARCHAR(256);
alter table opd_ent_examination_speciality add COLUMN right_columella VARCHAR(32);
alter table opd_ent_examination_speciality add COLUMN right_columella_value VARCHAR(256);


-- ---------- Added by Swarup on 15-11-2017  ----------------- 
 
ALTER TABLE opd_audiological_exam_ent_speciality
ALTER COLUMN remarks SET DATA TYPE character varying(150);

-- ---------- Added by Swarup on 21-11-2017  ----------------- 

ALTER TABLE drug_usage
ALTER COLUMN drug_name SET DATA TYPE character varying(64);


ALTER TABLE drug_uasge_pattern
ALTER COLUMN drug_name SET DATA TYPE character varying(64);


ALTER TABLE drug_usage_history
ALTER COLUMN drug_name SET DATA TYPE character varying(64);


ALTER TABLE drug_usage_history
ALTER COLUMN environment_name SET DATA TYPE character varying(64);

-- ---------- Added by Swarup on 22-11-2017  ----------------- 

ALTER TABLE opd_psychogeriatric_clinic_speciality
ALTER COLUMN other_physical_illness_value SET DATA TYPE character varying(256);

ALTER TABLE opd_psychogeriatric_clinic_speciality
ALTER COLUMN past_history_of_mental_illness_value SET DATA TYPE character varying(256);

ALTER TABLE opd_psychogeriatric_clinic_speciality
ALTER COLUMN family_history_of_mental_illness_value SET DATA TYPE character varying(256);

--------Added by Arbind on 22-11-2017-----

ALTER TABLE mas_lionc ADD COLUMN setroot boolean;

 --------Added by Jyotish on 22-11-2017-----

alter table opd_ent_examination_speciality add COLUMN gums_value character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_septum character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_left_it character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_right_it character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_left_im character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_right_im character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_left_mt character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_right_mt character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_left_mm character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_right_mm character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_left_floor character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_right_floor character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_left_roof character varying(256);
alter table opd_ent_examination_speciality add COLUMN nose_right_roof character varying(256);

-- ---------- Added by Swarup on 22-11-2017  ----------------- 

ALTER TABLE opd_psychogeriatric_clinic_speciality
ALTER COLUMN mental_status_examination SET DATA TYPE character varying(500);

ALTER TABLE opd_psychogeriatric_clinic_speciality
ALTER COLUMN cognitive_function SET DATA TYPE character varying(500);

ALTER TABLE opd_psychogeriatric_clinic_speciality
ALTER COLUMN treatment_given SET DATA TYPE character varying(500);

-- ---------- Added by Srikanth on 23-11-2017  ----------------- 

ALTER TABLE opd_psychogeriatric_clinic_speciality ADD COLUMN provisinal_diagnosis character varying(256);
ALTER TABLE opd_psychogeriatric_clinic_speciality ADD COLUMN final_diagnosis character varying(256); 


----------------Ritu 24-11-2017-----------------------

CREATE TABLE department_refset
(
  id serial NOT NULL,
  department_id integer,
  refset_id bigint,
  refset_desc character varying(64),
  CONSTRAINT "PK_dept_refset" PRIMARY KEY (id),
  CONSTRAINT "FK_dept_refset_1" FOREIGN KEY (department_id)
      REFERENCES mas_employee_department (emp_dept_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);


-- ---------- Added by swarup on 25-11-2017  ----------------- 

CREATE SEQUENCE nephrology_case_sheet_nephrology_case_sheet_id
  INCREMENT 1
  MINVALUE 1
  MAXVALUE 9223372036854775807
  START 1
  CACHE 1;
ALTER TABLE public.nephrology_case_sheet_nephrology_case_sheet_id
  OWNER TO postgres;

-- ---------- Added by swarup on 25-11-2017  ----------------- 

CREATE TABLE public.nephrology_case_sheet
(
  nephrology_case_sheet_id integer NOT NULL DEFAULT nextval('nephrology_case_sheet_nephrology_case_sheet_id'::regclass),
  hin_id integer,
  visit_id integer,
  deranged_rft_duration character varying(32),
  deranged_rft_details character varying(256),
  edma_facial_duration character varying(32),
  edma_facial_details character varying(256),
  edma_pedal_duration character varying(32),
  edma_pedal_details character varying(256),
  breathlessness_nyha_class character varying(32),
  breathlessness_nyha_class_duration character varying(256),
  breathlessness_nyha_class_details character varying(256),
  breathlessness_nyha_class_orthopnea character varying(256),
  vomating_blood_vomitus_details character varying(256),
  vomating_blood_vomitus_duration character varying(32),
  vomating_bilious_duration character varying(32),
  vomating_bilious_details character varying(256),
  hermaturia_coffee_coloured_duration character varying(32),
  hermaturia_coffee_coloured_details character varying(256),
  hermaturia_painful_duration character varying(32),
  hermaturia_painful_details character varying(256),
  frothing_duraton character varying(32),
  frothing_details character varying(256),
  oliguria_duration character varying(32),
  oliguria_details character varying(256),
  dysuria_duration character varying(32),
  dysuria_details character varying(256),
  chest_pain_duration character varying(32),
  chest_pain_details character varying,
  abdominal_pain_duration character varying(32),
  abdominal_pain_details character varying(256),
  fever_intermittent_duration character varying(32),
  fever_intermittent_details character varying(256),
  fever_chills_rigors_duration character varying(32),
  fever_chills_rigors_details character varying(256),
  fitness_procedure_details character varying(256),
  fitness_procedure_duration character varying(32),
  pruritus_duration character varying(32),
  pruritus_details character varying(256),
  headache_duration character varying(32),
  headache_details character varying(256),
  hypertension_duration character varying(256),
  hypertension_details character varying(256),
  lithuria_duration character varying(32),
  lithuria_details character varying(256),
  visual_symptoms_duration character varying(32),
  visual_symptoms_details character varying(256),
  presenting_illness_others character varying(500),
  presenting_illness_others_remark character varying(500),
  past_history character varying(500),
  past_history_remark character varying(500),
  personal_history character varying(500),
  personal_history_remark character varying(500),
  family_history_chronic_kideny_disease character varying(500),
  family_history_chronic_kidney_disease_remark character varying(500),
  family_history_chronic_liver_disease character varying(500),
  menorrhagia_remarks character varying(500),
  dysmenorrhea_remarks character varying(500),
  height character varying(32),
  weight character varying(32),
  bmi character varying(32),
  waist_circum character varying(32),
  bp character varying(32),
  temperature character varying(32),
  respiratory_rate character varying(32),
  anamia character varying(32),
  cyanosis character varying(32),
  jaundice character varying(32),
  clubbing character varying(32),
  edema character varying(32),
  lymphadenopathy character varying(256),
  jvp character varying(32),
  jvp_raised character varying(256),
  chest character varying(256),
  chest_remark character varying(256),
  cvs character varying(256),
  cvs_remark character varying(256),
  p_a character varying(256),
  p_a_remarlks character varying(500),
  optic_funds character varying(500),
  cns_findings character varying(500),
  others character varying(500),
  last_chg_by integer,
  last_chg_date date,
  last_chg_time character varying(10),
  luts_frequency_duration character varying(32),
  luts_frequency_details character varying(256),
  luts_urgency_duration character varying(32),
  luts_urgency_details character varying(256),
  luts_obstructed_duration character varying(32),
  luts_obstructed_details character varying(256),
  luts_nocturia_duration character varying(32),
  luts_nocturia_details character varying(256),
  ckd_duartion character varying(32),
  ckd_details character varying(256),
  hemoptysis_duration character varying(32),
  hemoptysis_details character varying(256),
  chronic_on_mhd character varying(32),
  chronic_not_on_mhd character varying(32),
  capd character varying(32),
  transplantation character varying(32),
  cough_duration character varying(32),
  cough_details character varying(256),
  sr_creatinine character varying(32),
  CONSTRAINT pk_nephrology_case_sheet PRIMARY KEY (nephrology_case_sheet_id),
  CONSTRAINT fk_nephrology_case_sheet_001 FOREIGN KEY (hin_id)
      REFERENCES public.patient (hin_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.nephrology_case_sheet
  OWNER TO postgres;

  
  
  //--------------  Added by Mansi on 29/11/2017--------------------------
  
  ALTER TABLE opd_orthopedic_speciality ADD COLUMN hip_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN sacroiliac_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN pelvis_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN thigh_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN knee_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN leg_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN ankle_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN foot_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN shoulder_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN interscapular_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN arm_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN elbow_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN forearm_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN wrist_value_another character(256);
ALTER TABLE opd_orthopedic_speciality ADD COLUMN hand_value_another character(256);





CREATE TABLE opd_gynecology_case_sheet
(
  gynecology_case_sheet_id serial NOT NULL,
  hin_id integer,
  opd_patient_details integer,
  present_complaints character varying(256),
  history_of_present_illness character varying(256),
  menarche character varying(256),
  menstrual_cycle character varying(256),
  dysmenorrhoea character varying(256),
  lmp_one date,
  lmp_two date,
  menopause character varying(128),
  marital_obstetrics_history character varying(256),
  htn character varying(10),
  diabetes character varying(10),
  renal_disease character varying(10),
  tb character varying(10),
  boronchial_asthma character varying(10),
  angina character varying(10),
  mi character varying(10),
  allergies character varying(10),
  drugs character varying(10),
  others character varying(10),
  other_specify character varying(256),
  surgical_history character varying(256),
  family_history character varying(256),
  general_exam character varying(256),
  local_examination character varying(256),
  pa character varying(256),
  ps character varying(256),
  pv character varying(256),
  pr character varying(256),
  services character varying(256),
  follow_up character varying(256),
  on_value character varying(128),
  signed_by character varying(128),
  CONSTRAINT pk_opd_gynecology_case_sheet PRIMARY KEY (gynecology_case_sheet_id),
  CONSTRAINT fk_opd_gynecology_case_sheet_001 FOREIGN KEY (hin_id)
      REFERENCES patient (hin_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
  CONSTRAINT fk_opd_gynecology_case_sheet_002 FOREIGN KEY (opd_patient_details)
      REFERENCES opd_patient_details (id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT
)
WITH (
  OIDS=FALSE
);
ALTER TABLE opd_gynecology_case_sheet
  OWNER TO postgres;




  -- ---------- Added by swarup on 29-11-2017  -----------------
  
  ALTER TABLE nephrology_case_sheet
ALTER COLUMN chest_pain_details SET DATA TYPE character varying(256);

  -- ---------- Added by Jyotish on 29-11-2017  -----------------
  alter table opd_dermatology_leprosy_proforma add COLUMN lepra_reaction_parameter_value character varying(256);
  
    --------------- Added by Babita on 29-11-2017  -----------------
  alter table opd_patient_details
add column pem varchar(5);
alter table opd_patient_details
add column wasting varchar(5);
alter table opd_patient_details
add column stuning varchar(5);

      --------------- Added by Babita on 30-11-2017  -----------------
    alter table opd_patient_history
    add surgical_history varchar (500);

	alter table opd_patient_details
	add column review varchar(256);
      --------------- Added by Mansi on 30-11-2017  -----------------

ALTER TABLE drug_usage_history
   ADD COLUMN specify_others character varying(128);
   
   ALTER TABLE drug_usage_history
   ALTER COLUMN environment_name TYPE character varying(20);

ALTER TABLE drug_related_problem
   ADD COLUMN others_current_value character varying(128);

ALTER TABLE drug_related_problem
   ADD COLUMN others_past_value character varying(128);
   

ALTER TABLE drug_related_problem
   ADD COLUMN txt_previous_attempts character varying(128);
ALTER TABLE drug_related_problem
   ADD COLUMN previous_attempts character varying(4);
   
    --------------- Added by Jyotish on 01-12-2017  -----------------
    
    CREATE TABLE external_lab_report_common
(
  record_id serial NOT NULL,
  test_name character varying(32),
  template_name character varying(50),
  test_result character varying(20),
  visit_id integer,
  hin_id integer,
  hospital_id integer,
  CONSTRAINT external_lab_report_common_pkey PRIMARY KEY (record_id),
  CONSTRAINT external_lab_report_common_hin_id_fkey FOREIGN KEY (hin_id)
      REFERENCES patient (hin_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT external_lab_report_common_hospital_id_fkey FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT external_lab_report_common_visit_id_fkey FOREIGN KEY (visit_id)
      REFERENCES visit (visit_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE external_lab_report_common
  OWNER TO postgres;
  
  
  
  //-----------------------added by anamika--------


ALTER TABLE mas_speciality_dept_group ADD COLUMN extra_lov character varying(1);



ALTER TABLE mas_speciality_dept_group
   ADD COLUMN text_color character varying(64);

ALTER TABLE mas_speciality_dept_group
   ADD COLUMN text_font character varying(64);


ALTER TABLE mas_speciality_dept_group
   ADD COLUMN validation_value character varying(64);

  ALTER TABLE mas_speciality_dept_group
   ADD COLUMN text_size character varying(64);
  
      --------------- Added by Babita on 02-12-2017  -----------------
     alter table opd_psychogeriatric_clinic_speciality
     add deferred_diagnosis varchar(256)
    
  --------------- Added by Swarup on 01-12-2017  -----------------

CREATE TABLE family_planning_gynecology
(
  family_panning_id integer NOT NULL DEFAULT nextval('family_planning_gynec_family_panning_id_seq'::regclass),
  visit_id integer,
  hin_id integer,
  department_id integer,
  hospital_id integer,
  medical_practioner_referral character varying(256),
  medical_practioner_mtp character varying(256),
  address_for_med_pract_ref character varying(500),
  address_for_med_pract_mtp character varying(500),
  patient_name character varying(100),
  age character varying(32),
  gestation_age character varying(32),
  days character varying(32),
  gender character varying(32),
  reson_for_family_planning character varying(500),
  type_of_termination_used character varying(500),
  others character varying(500),
  last_chg_by integer,
  last_chg_date date,
  last_chg_time character varying(10),
  CONSTRAINT pk_family_planning_gynec PRIMARY KEY (family_panning_id),
  CONSTRAINT fk_family_planning_gynec_001 FOREIGN KEY (hin_id)
      REFERENCES public.patient (hin_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.family_planning_gynecology
  OWNER TO postgres;
   --------------- Added by Babita on 04-12-2017  -----------------
        alter table opd_patient_history
		add column permorbid_personality varchar(256);
	    
	    alter table opd_patient_details
		add column general_appearance varchar(256);
		
		alter table opd_patient_details
		add column mental_status varchar(256);
		
		alter table opd_patient_details
		add column cognitive_function varchar(256);
		
		
------------ Added by Mansi on 05-12-2017---------

ALTER TABLE asha_worker ADD COLUMN asha_code character varying(50);
	
		
	 --------------- Added by Swarup on 05-12-2017  -----------------
      
CREATE SEQUENCE public.family_planning_gynec_family_panning_id_seq
  INCREMENT 1
  MINVALUE 1
  MAXVALUE 9223372036854775807
  START 12
  CACHE 1;
ALTER TABLE public.family_planning_gynec_family_panning_id_seq
  OWNER TO postgres;
       
	 ------Added by swarup on 05-12-2017-----------
  
CREATE TABLE opd_phototherapy_proforma_header
(
  phototherapy_proforma_id serial NOT NULL,
  hin_id integer,
  opd_patient_details integer,
  presenting_complaint_value character varying(256),
  duration_of_illness character varying(16),
  history_of_present_illness character varying(256),
  past_history character varying(32),
  past_history_value character varying(256),
  family_history character varying(15),
  family_history_value character varying(256),
  drug_history character varying(32),
  drug_history_value character varying(256),
  build_and_nourishment character varying(256),
  gen_exam_anemia character varying(256),
  gen_exam_cyanosis character varying(256),
  gen_exam_jaundice character varying(256),
  gen_exam_clubbing character varying(256),
  gen_exam_edema character varying(256),
  gen_exam_lymphadenopathy character varying(256),
  pulse integer,
  temperature numeric(4,1),
  bp character varying(8),
  height integer,
  weight numeric(10,3),
  bmi numeric(11,2),
  respiratory_rate numeric(11,2),
  spo2 numeric(11,2),
  primary_lesion_other character varying(256),
  secondary_lesion_other character varying(256),
  distribution character varying(32),
  distribution_value character varying(256),
  hair character varying(32),
  hair_value character varying(256),
  nails character varying(32),
  nails_value character varying(256),
  system_illness character varying(32),
  system_illnes_cvs character varying(256),
  system_illnes_rs character varying(256),
  system_illnes_git character varying(256),
  system_illnes_cns character varying(256),
  system_illnes_others character varying(256),
  blood_hb character varying(32),
  blood_tc_p character varying(32),
  blood_tc_l character varying(32),
  blood_tc_e character varying(32),
  blood_tc_platelets character varying(32),
  blood_esr character varying(32),
  blood_smear character varying(32),
  fbs character varying(32),
  ppbs character varying(32),
  urin_albumin character varying(32),
  urin_sugar character varying(32),
  urin_deposits character varying(32),
  rft_urea character varying(32),
  rft_creatinine character varying(32),
  rft_protein character varying(32),
  rft_bilirubin character varying(32),
  rft_sgot character varying(32),
  rft_na character varying(32),
  rft_k character varying(32),
  rft_albumin character varying(32),
  rft_alk character varying(32),
  rft_sgpt character varying(32),
  rft_chest_xray character varying(50),
  rft_ctscan character varying(50),
  rft_altrasount character varying(50),
  rft_others character varying(50),
  dermatoses_psoriasis character varying(32),
  dermatoses_vitiligo character varying(32),
  dermatoses_alopecia character varying(32),
  dermatoses_parapsoriasis character varying(32),
  dermatoses_pityriasis character varying(32),
  dermatoses_mastocytosis character varying(32),
  dermatoses_ctcl character varying(32),
  dermatoses_others character varying(32),
  concomitant_systemic character varying(32),
  concomitant_topical character varying(32),
  concomitant_antihistamines character varying(32),
  concomitant_emolients character varying(32),
  concomitant_tacrolimus character varying(32),
  concomitant_others character varying(32),
  adverse_events_followup character varying(256),
  CONSTRAINT pk_opd_phototherapy_proforma_header PRIMARY KEY (phototherapy_proforma_id),
  CONSTRAINT fk_phototherapy_proforma_id_001 FOREIGN KEY (hin_id)
      REFERENCES patient (hin_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
  CONSTRAINT fk_phototherapy_proforma_id_002 FOREIGN KEY (opd_patient_details)
      REFERENCES opd_patient_details (id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT
)
WITH (
  OIDS=FALSE
);
ALTER TABLE opd_phototherapy_proforma_header
  OWNER TO postgres;
  
  ---------------------------------------------------------------------------------- 
 
CREATE TABLE opd_phototherapy_proforma_detail
(
  phototherapy_proforma_detail_id serial NOT NULL,
  phototherapy_proforma_id integer,
  parameter_name character varying(64),
  status character varying(64),
  flag character varying(64),
  lesion character varying(16),
  lesion_value character varying(50),
  "number" character varying(16),
  site character varying(16),
  type_of_lesion character varying(16),
  pigmentation_status character varying(16),
  pigmentation character varying(64),
  charcter character varying(64),
  border character varying(64),
  surface character varying(64),
  smallest_size character varying(64),
  largest_size character varying(64),
  hair_on_lesion character varying(64),
  additional_feature character varying(264),
  CONSTRAINT pk_opd_phototherapy_proforma_detail PRIMARY KEY (phototherapy_proforma_detail_id),
  CONSTRAINT fk_opd_phototherapy_proforma_detail_001 FOREIGN KEY (phototherapy_proforma_id)
      REFERENCES opd_phototherapy_proforma_header (phototherapy_proforma_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT
)
WITH (
  OIDS=FALSE
);
ALTER TABLE opd_phototherapy_proforma_detail
  OWNER TO postgres;
 
 ---------------------------------------------------------------------------------------------

CREATE TABLE opd_phototherapy_proforma_detail_dosage
(
  phototherapy_proforma_detail_dosage_id serial NOT NULL,
  phototherapy_proforma_id integer,
  hin_id integer,
  parameter_name character varying(64),
  status character varying(64),
  flag character varying(64),
  dosage_date date,
  increment_percentage numeric(10,2),
  dosage numeric(10,2),
  score character varying(64),
  remarks character varying(128),
  CONSTRAINT pk_opd_phototherapy_proforma_detail_dosage PRIMARY KEY (phototherapy_proforma_detail_dosage_id),
  CONSTRAINT fk_phototherapy_proforma_id_001 FOREIGN KEY (hin_id)
      REFERENCES patient (hin_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
  CONSTRAINT fk_opd_phototherapy_proforma_detail_dosage_002 FOREIGN KEY (phototherapy_proforma_id)
      REFERENCES opd_phototherapy_proforma_header (phototherapy_proforma_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT
)
WITH (
  OIDS=FALSE
);
ALTER TABLE opd_phototherapy_proforma_detail_dosage
  OWNER TO postgres;
  
ALTER TABLE opd_phototherapy_proforma_header 
ADD COLUMN blood_group_id integer,
ADD CONSTRAINT fk_phototherapy_proforma_id_003 FOREIGN KEY (blood_group_id)
REFERENCES mas_blood_group(blood_group_id);



		   --------------- Added by Babita on 05-12-2017  -----------------
CREATE TABLE lr_contraction
(
  lr_contraction_id serial NOT NULL,
  contraction_date date,
  contraction_time character varying(5),
  contraction_type character varying(50),
  labor_room_type smallint,
  inpatient_id integer,
  employee_id integer,
  hospital_id integer,
  department_id integer,
  last_chg_by integer,
  last_chg_date timestamp without time zone,
  last_chg_time character varying(10),
  CONSTRAINT pk_lr_contraction PRIMARY KEY (lr_contraction_id),
  CONSTRAINT fk_lr_contraction_dept FOREIGN KEY (department_id)
      REFERENCES mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_contraction_employee FOREIGN KEY (employee_id)
      REFERENCES mas_employee (employee_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_contraction_hospital FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_contraction_inpatient FOREIGN KEY (inpatient_id)
      REFERENCES inpatient (inpatient_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_contraction_user FOREIGN KEY (last_chg_by)
      REFERENCES users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);


CREATE TABLE lr_dilatation_descent
(
  lr_dilatation_descent_id serial NOT NULL,
  dilatation_descent_date date,
  dilatation_descent_time character varying(5),
  dilatation numeric(4,1),
  descent numeric(4,1),
  labor_room_type smallint,
  inpatient_id integer,
  employee_id integer,
  hospital_id integer,
  department_id integer,
  last_chg_by integer,
  last_chg_date timestamp without time zone,
  last_chg_time character varying(10),
  CONSTRAINT pk_lr_dilatation_descent PRIMARY KEY (lr_dilatation_descent_id),
  CONSTRAINT fk_lr_dilatation_descent_dept FOREIGN KEY (department_id)
      REFERENCES mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_dilatation_descent_employee FOREIGN KEY (employee_id)
      REFERENCES mas_employee (employee_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_dilatation_descent_hospital FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_dilatation_descent_inpatient FOREIGN KEY (inpatient_id)
      REFERENCES inpatient (inpatient_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_dilatation_descent_user FOREIGN KEY (last_chg_by)
      REFERENCES users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);


CREATE TABLE lr_fetal_details
(
  lr_fetal_details_id serial NOT NULL,
  fetal_details_date date,
  fetal_details_time character varying(5),
  pulse smallint,
  amniotic_fluid character varying(1),
  fetal_skull_moulding character varying(3),
  labor_room_type smallint,
  inpatient_id integer,
  employee_id integer,
  hospital_id integer,
  department_id integer,
  last_chg_by integer,
  last_chg_date timestamp without time zone,
  last_chg_time character varying(10),
  CONSTRAINT pk_lr_fetal_details PRIMARY KEY (lr_fetal_details_id),
  CONSTRAINT fk_lr_fetal_details_dept FOREIGN KEY (department_id)
      REFERENCES mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_fetal_details_employee FOREIGN KEY (employee_id)
      REFERENCES mas_employee (employee_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_fetal_details_hospital FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_fetal_details_inpatient FOREIGN KEY (inpatient_id)
      REFERENCES inpatient (inpatient_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_fetal_details_user FOREIGN KEY (last_chg_by)
      REFERENCES users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);


CREATE TABLE lr_pulse_bp
(
  lr_pulse_bp_id serial NOT NULL,
  pulse_bp_date date,
  pulse_bp_time character varying(5),
  pulse_beat character varying(6),
  pulse_min smallint,
  bp_systolic smallint,
  bp_diastolic smallint,
  labor_room_type smallint,
  inpatient_id integer,
  employee_id integer,
  hospital_id integer,
  department_id integer,
  last_chg_by integer,
  last_chg_date timestamp without time zone,
  last_chg_time character varying(10),
  CONSTRAINT pk_lr_pulse_bp PRIMARY KEY (lr_pulse_bp_id),
  CONSTRAINT fk_lr_pulse_bp_dept FOREIGN KEY (department_id)
      REFERENCES mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_pulse_bp_employee FOREIGN KEY (employee_id)
      REFERENCES mas_employee (employee_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_pulse_bp_hospital FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_pulse_bp_inpatient FOREIGN KEY (inpatient_id)
      REFERENCES inpatient (inpatient_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_pulse_bp_user FOREIGN KEY (last_chg_by)
      REFERENCES users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);


CREATE TABLE lr_temperature
(
  lr_temperature_id serial NOT NULL,
  temperature_date date,
  temperature_time character varying(5),
  temperature numeric(4,1),
  labor_room_type smallint,
  inpatient_id integer,
  employee_id integer,
  hospital_id integer,
  department_id integer,
  last_chg_by integer,
  last_chg_date timestamp without time zone,
  last_chg_time character varying(10),
  CONSTRAINT pk_lr_temperature PRIMARY KEY (lr_temperature_id),
  CONSTRAINT fk_lr_temperature_dept FOREIGN KEY (department_id)
      REFERENCES mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_temperature_employee FOREIGN KEY (employee_id)
      REFERENCES mas_employee (employee_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_temperature_hospital FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_temperature_inpatient FOREIGN KEY (inpatient_id)
      REFERENCES inpatient (inpatient_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_temperature_user FOREIGN KEY (last_chg_by)
      REFERENCES users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);


CREATE TABLE lr_urine_analysis
(
  lr_urine_analysis_id serial NOT NULL,
  urine_analysis_date date,
  urine_analysis_time character varying(5),
  volume character varying(10),
  albumin character varying(1),
  acetone character varying(1),
  glucose character varying(1),
  labor_room_type smallint,
  inpatient_id integer,
  employee_id integer,
  hospital_id integer,
  department_id integer,
  last_chg_by integer,
  last_chg_date timestamp without time zone,
  last_chg_time character varying(10),
  CONSTRAINT pk_lr_urine_analysis PRIMARY KEY (lr_urine_analysis_id),
  CONSTRAINT fk_lr_urine_analysis_dept FOREIGN KEY (department_id)
      REFERENCES mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_urine_analysis_employee FOREIGN KEY (employee_id)
      REFERENCES mas_employee (employee_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_urine_analysis_hospital FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_urine_analysis_inpatient FOREIGN KEY (inpatient_id)
      REFERENCES inpatient (inpatient_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_urine_analysis_user FOREIGN KEY (last_chg_by)
      REFERENCES users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);

drop table lr_induction;
CREATE TABLE lr_induction
(
  lr_induction_id serial NOT NULL,
  induction_date date,
  induction_time character varying(10),
  medicine_given character varying(5),
  arm character varying(1),
  arm_details character varying(50),
  labor_room_type smallint,
  inpatient_id integer,
  employee_id integer,
  hospital_id integer,
  department_id integer,
  last_chg_by integer,
  last_chg_date timestamp without time zone,
  last_chg_time character varying(10),
  CONSTRAINT pk_lr_induction PRIMARY KEY (lr_induction_id),
  CONSTRAINT fk_lr_induction_dept FOREIGN KEY (department_id)
      REFERENCES mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_induction_employee FOREIGN KEY (employee_id)
      REFERENCES mas_employee (employee_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_induction_hospital FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_induction_inpatient FOREIGN KEY (inpatient_id)
      REFERENCES inpatient (inpatient_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_induction_user FOREIGN KEY (last_chg_by)
      REFERENCES users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);

drop table lr_procedure_done;
CREATE TABLE lr_procedure_done
(
  lr_procedure_done_id serial NOT NULL,
  procedure_done_date date,
  procedure_done_time character varying(10),
  findings character varying(256),
  labor_room_type smallint,
  inpatient_id integer,
  employee_id integer,
  hospital_id integer,
  department_id integer,
  last_chg_by integer,
  last_chg_date timestamp without time zone,
  last_chg_time character varying(10),
  CONSTRAINT pk_lr_procedure_done PRIMARY KEY (lr_procedure_done_id),
  CONSTRAINT fk_lr_procedure_done_dept FOREIGN KEY (department_id)
      REFERENCES mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_procedure_done_employee FOREIGN KEY (employee_id)
      REFERENCES mas_employee (employee_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_procedure_done_hospital FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_procedure_done_inpatient FOREIGN KEY (inpatient_id)
      REFERENCES inpatient (inpatient_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_lr_procedure_done_user FOREIGN KEY (last_chg_by)
      REFERENCES users (user_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);

  
  
--------------- Added by Amit Das on 05-12-2017  -----------------
  
ALTER TABLE dg_orderdt
  ADD COLUMN appointment_visit_id integer;
ALTER TABLE dg_orderdt
  ADD CONSTRAINT fk_dg_orderdt_7 FOREIGN KEY (appointment_visit_id) REFERENCES visit (visit_id) ON UPDATE NO ACTION ON DELETE NO ACTION;

ALTER TABLE app_investigation_appointments
  ADD COLUMN visit_id integer;
ALTER TABLE app_investigation_appointments
  ADD CONSTRAINT fk_app_investigation_appointment_10 FOREIGN KEY (visit_id) REFERENCES visit (visit_id) ON UPDATE NO ACTION ON DELETE NO ACTION;
  
  
CREATE TABLE public.multi_department_mapping
(
  id serial NOT NULL,
  service_center_id integer,
  parent_service_center_id integer,
  status character varying(1),
  CONSTRAINT multi_department_mapping_p_key PRIMARY KEY (id),
  CONSTRAINT multi_department_mapping_f_key_1 FOREIGN KEY (service_center_id)
      REFERENCES public.mas_institute_department (inst_dept_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT multi_department_mapping_f_key_2 FOREIGN KEY (parent_service_center_id)
      REFERENCES public.mas_institute_department (inst_dept_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.multi_department_mapping
  OWNER TO postgres;
  
ALTER TABLE public.mas_hospital
ADD COLUMN multi_pharmacy character varying(3);

-------------------- Added by Mansi on 06-12-2017--------------

CREATE TABLE opd_general_psychiatric_case_record
(
  general_psychiatric_case_record_id serial NOT NULL,
  hin_id integer,
  opd_patient_details integer,
  marital_status_id integer,
  education_id integer,
  religion_id integer,
  self character varying(10),
  brought_by_relatives character varying(128),
court character varying(10),
medical_college_hospital character varying(4),
others_source_of_referral character varying(4),
others_source_of_referral_div character varying(128),
lanuage character varying(128),
informant  character varying(128),
rrc  character varying(128),
presenting_compliments character varying(256),
total_duration integer,
episodic_type character varying(128),
episodic_type_value character varying(128),
number_of_episodes integer,
age_of_onset integer,
cwrar character varying(10),
not_know character varying(10), 
onset character varying(128),
precipitation	character varying(4),
precipitation_specify character varying(128),
progress_of_symptoms  character varying(256),

congitive_symptoms character varying(10),
onset_congitive_symptoms character varying(10),
over_short character varying(10),
gradual character varying(10),
distrurbed_consciousness character varying(10),
rcoaoe character varying(10),
iaac character varying(10),
perceptual_disturbance character varying(10),
fdtcod character varying(10),
memory_impairment character varying(10),
aphasia character varying(10),
aphraxia character varying(10),
agnosia character varying(10),
def character varying(10),
disorientation character varying(10),
psychotic_symptoms character varying(10),
suspiciousness character varying(10),
delusional_behaviour character varying(10),
hallucinatory_behaviour character varying(10),
disorganised_speech character varying(10),
disorganised_behaviour character varying(10),
catatonic_behaviour character varying(10),
social_withdrawal character varying(10),
emotional_blunting character varying(10),
manic_symptoms character varying(10),
eeoim character varying(10),
dnfs character varying(10),
grandiose_behaviour character varying(10),
optkt character varying(10),
overactivity character varying(10),
eiiip character varying(10),
rsim character varying(10),
depressive_symptoms character varying(10),
soorodm character varying(10),
loioe character varying(10),
slowgiw character varying(10),
ioh character varying(10),
paor character varying(10),
loef character varying(10),
wg character varying(10),
locoi character varying(10),
delusional character varying(10),
delusional_val character varying(10),
suicidal_behaviour character varying(10),
anxiety_symptoms character varying(10),

anxiety_symptoms_val character varying(128),

sagis character varying(10),

sagis_val character varying(128),

eating_symptoms  character varying(10),

eating_symptoms_val  character varying(128),

sleep_symptoms character varying(10),

sleep_symptoms_val character varying(128),

impulse_dyscontrol_symptoms character varying(10),

impulse_dyscontrol_symptoms_val character varying(128),

future_details_val character varying(128),
suicidal character varying(10),
selfMutilating character varying(10),
violent character varying(10),
homicidal  character varying(10),

detail_one character varying(128),

not_on_medications character varying(10),
on_medications character varying(10),

detail_two character varying(128),

dgree_of_drug_adherence character varying(10),
past_psychiatric_history character varying(10),

past_psychiatric_history_val character varying(128),


pastHistory_of_deliberate_self_harm  character varying(10),

pervious_attempt_fantasised_suicide character varying(128),
impulsive_planned character varying(128),
manipulativeIntent character varying(128),

intent_val character varying(10),

circumstances character varying(128),
past_psychiatric_treatment_history character varying(128),


no_known_diseases character varying(10),
allergies_sensitvities character varying(10),
allergies_sensitvities_val character varying(128),
seizures_val character varying(128),
head_trauma_val character varying(128),
non_psychiatric character varying(10),
non_psychiatric_val character varying(128),
family_history_val character varying(128),
ppaed character varying(10),
details_three character varying(128),
congnitive_development character varying(128),
motor_development character varying(128),
behaviour_childhood character varying(128),
significant_physicalillness character varying(128),
education_history character varying(128),
occupational_history character varying(128),
sexual_history character varying(128),
menstrual_history character varying(128),
marital_relationshiphistory character varying(128),
social_history character varying(128),
substance_history character varying(10),
substance_of_choice character varying(128),
substance_of_choice_val character varying(128),
age_on_set character varying(128),
current_use_pattern character varying(128),
date_of_last_use  date,
others_val character varying(128),
current_ws character varying(10),
current_ws_val character varying(128),
past_ws character varying(10),
past_ws_val character varying(128),
tolerance character varying(10),
locc character varying(10),
fatc character varying(10),
tsodra character varying(10),
iagu character varying(10),
cudp character varying(10),
fimro character varying(10),
hazardous_use character varying(10),
substance_related_legal_problem character varying(10),
substanceRelatedLegalProblemVal character varying(128),
lpoaitp character varying(128),
ptfsud character varying(10),
ptfsud_val character varying(128),

premorbid_personality character varying(128),

abnormal_personality character varying(10),
pmsamom character varying(10),
ppodfsrarroeeiis character varying(10),
dwrcapdaeob character varying(10),
dfavoroo character varying(10),
iiirsiaaic character varying(10),
eeaas character varying(10),
gnfaaloe character varying(10),
sifoiahtne character varying(10),
entbtcosacbafos	character varying(10),
pwopamaic character varying(10),
alert_l_o_c character varying(10),
droxsy character varying(10),
stuporose character varying(10),
comatose character varying(10),
fluctuting character varying(10),
orienation character varying(10),
orienation_impaired_val character varying(128),
person character varying(10),
person_impaired_val character varying(128),
time_val character varying(10),
time_impaired_val character varying(128),
place character varying(10),
place_impaired_val character varying(128),
appearance_and_behaviour character varying(128),
well_groomed character varying(10),
dishevelled character varying(10),
bizzare character varying(10),
gross character varying(128),
attitude_txt character varying(128),
cooperative character varying(10),
guarded character varying(10),
indifferent character varying(10),
withdrawn_preoccupied character varying(10),
silly character varying(10),
uncooperative character varying(10),
belligerent character varying(10),
eye_contract character varying(10),
rapport character varying(128),
psychomotor_activity character varying(128),
normal_psychomotor_activity character varying(10),
increased_psychomotor_activity character varying(10),
excited_psychomotor_activity character varying(10),
agitated_psychomotor_activity character varying(10),
disorganised_psychomotor_activity character varying(10),
aggressive_psychomotor_activity character varying(10),
repetitive_psychomotor_activity character varying(10),
decreased_psychomotor_activity character varying(10),
catatonic_psychomotor_activity character varying(10),
bradykinesia_psychomotor_activity character varying(10),
talk character varying(10),
talkImpaired_val character varying(128),
srotq character varying(10),
quantum character varying(10),
quantum_val character varying(10),
rate character varying(10),
tone character varying(10),
mute character varying(10),
mute_val character varying(10),	
mute_impaired_val character varying(128),
mute_val_one character varying(10),
mute_val_y_n character varying(10),
mute_val_n_i_d character varying(10),
stream_and_form_normal character varying(10),
stream_and_form_lossening character varying(10),
stream_and_form_flight character varying(10),
stream_and_form_circumstantiality character varying(10),
stream_and_form_wor character varying(10),
stream_and_form_neologism character varying(10),
stream_and_form_perseveration character varying(10),
stream_and_form_poverty character varying(10),
stream_and_form_thought character varying(10),
stream_and_form_incompleted character varying(10),
stream_and_form_pressure character varying(10),	
stream_and_form_vagueness character varying(10),
thought_sample character varying(128),
preoccupations_none character varying(10),
preoccupations_religiosity character varying(10),
preoccupations_somatic character varying(10),
preoccupations_hypochondriacal character varying(10),
preoccupations_hopelessness character varying(10),
preoccupations_worthlessness character varying(10),
preoccupations_guilt character varying(10),
preoccupations_ideas character varying(10),
preoccupations_other character varying(10),
preoccupations_other_val character varying(128),

suicidal_a_p character varying(10),
suicidal_n_p character varying(10),
suicidal_other character varying(128),
homicidal_a_p character varying(10),
homicidal_n_p character varying(10),
homicidal_other character varying(128),

phobia_absent character varying(10),
phobia_agora character varying(10),
phobia_social character varying(10),
phobia_specific character varying(10),
phobia_other character varying(128),


delusions_absent character varying(10),
delusions_persectory character varying(10),
delusions_d_o character varying(10),
delusions_grandiose character varying(10),
delusions_d_p character varying(10),

delusions_d_p_another character varying(10),
delusions_somatic character varying(10),
delusions_jealous character varying(10),
delusions_guilty character varying(10),
delusions_nihilistic character varying(10),
delusions_bizzare character varying(10),
delusions_mood character varying(10),
delusions_other character varying(10),
delusions_other_val character varying(128),
coddp character varying(128),
obsessions character varying(10),
obsessions_other character varying(128),

delusional_absent character varying(10),
delusional_thought_insertion character varying(10),
delusional_thought_withdrawal character varying(10),
delusional_thought_broadcast character varying(10),
affect_appropriate character varying(10),

affect_inappropritate character varying(10),
affect_labile character varying(10),
affect_constricted character varying(10),
affect_flat character varying(10),
mood_normal character varying(10),
mood_depressed character varying(10),
mood_anxious character varying(10),
mood_fearful character varying(10),
mood_euphoric character varying(10),
mood_imtable character varying(10),
mood_apathetic character varying(10),
perception character varying(10),

perception_val character varying(128),

hallucinations character varying(10),
auditory character varying(10),
auditory_i_i character varying(10),
auditory_i_i_i character varying(10),
auditory_running character varying(10),
auditory_command character varying(10),
auditory_a_h character varying(10),

auditory_val character varying(128),

visual character varying(10),
olfactory character varying(10),
tactile character varying(10),
gustatory character varying(10),
sexual character varying(10),

describe character varying(128),
attention character varying(10),

digit_forward character varying(128),
digit_backward character varying(128),

concertration character varying(10),

month_in_reverse character varying(128),

days_in_reverse character varying(128),

concertration_val character varying(128),

memory character varying(10),
memory_impaired character varying(128),
nlrnls character varying(10),
clinical character varying(128),
lang character varying(10),
language_impaired_val character varying(128),
concerate character varying(10),
semi_abstract character varying(10),
abstract character varying(10),
abstract_val character varying(128),
judgement character varying(128),
social character varying(30),
personal character varying(30),
test character varying(30),
insight character varying(128),
grap character varying(128),
attitude character varying(10),	
voluntary_postures character varying(30),
wdtpdiiaocp character varying(128),
btpan character varying(128),
spontaneous_acts character varying(128),
dmwiwopwap character varying(128),

ead character varying(128),
watbab character varying(128),
dtmsoiroatct character varying(128),
twedtac character varying(128),
itbcovfdtd character varying(128),
dasoitc character varying(128),

facial_expression character varying(128),
alert character varying(10),	
attentive character varying(10),	
placid character varying(10),	
vacant character varying(10),	
stolid character varying(10),	
sulky character varying(10),	
scowling character varying(10),	
averse character varying(10),	
perplexed character varying(10),	
distressed character varying(10),		
apofeosoe character varying(30),	
owo character varying(128),
eyes character varying(128),
eyes_val character varying(10),
rhlr character varying(10),
movement_of_eyes character varying(10),
gaofteomo character varying(10),
sofgfgoe character varying(10),
roeubfotol character varying(10),
rtsaottsopte character varying(10),
srop character varying(10),
rtwisod character varying(128),
show_tongue character varying(10),
move_limbs character varying(10),
gwh character varying(10),
move_limbs_another character varying(10),
move_limbs_val character varying(10),
rtpp character varying(128),
automatic character varying(128),
echopraxia character varying(128),
test_for_rigidity character varying(128),
teat_head character varying(10),
test_also_the_jaw character varying(10),
does_distraction character varying(10),
closing_of_mouth character varying(10),
holding_of_saliva character varying(10),
emotional character varying(128),
ifswttofoc character varying(10),
ifswspihamwvc character varying(10),
acceleration character varying(10),
flushing character varying(10),
tearsInTheEyes character varying(10),
accelerationOfPulse character varying(10),
perspiration	 character varying(10),
others_another character varying(10),
others_another_val character varying(128),
djear character varying(10),
effects character varying(10),
speech character varying(10),
writing character varying(10),
case_fromulation character varying(128),

  CONSTRAINT pk_opd_general_psychiatric_case_record PRIMARY KEY (general_psychiatric_case_record_id),
  CONSTRAINT fk_opd_general_psychiatric_case_record_001 FOREIGN KEY (hin_id)
      REFERENCES patient (hin_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
  CONSTRAINT fk_opd_general_psychiatric_case_record_003 FOREIGN KEY (opd_patient_details)
      REFERENCES opd_patient_details (id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
  CONSTRAINT fk_opd_general_psychiatric_case_record4 FOREIGN KEY (marital_status_id)
      REFERENCES mas_marital_status (marital_status_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
      CONSTRAINT fk_opd_general_psychiatric_case_record5 FOREIGN KEY (education_id)
      REFERENCES mas_qualification (qualification_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
 CONSTRAINT fk_opd_general_psychiatric_case_record6 FOREIGN KEY (religion_id)
      REFERENCES mas_religion (religion_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT
)
WITH (
  OIDS=FALSE
);
ALTER TABLE opd_general_psychiatric_case_record
  OWNER TO postgres;
GRANT ALL ON TABLE opd_general_psychiatric_case_record TO postgres;


--------------- Added by Jyotish on 07-12-2017  -----------------
alter table opd_dermatological_family_history_leprosy add COLUMN family_history_other_parameter_value character varying(256);

-------------------- Added by Mansi on 9-12-2017--------------
ALTER TABLE pathological_pattern ADD COLUMN total_source integer;
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN flag_deformity character varying(32);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN flag_smear_examination character varying(32);
ALTER TABLE opd_dermatological_leprosy_examination ADD COLUMN flag character varying(32);
ALTER TABLE drug_uasge_pattern ADD COLUMN flag character varying(32);

-------------------- Added by Mansi on 9-12-2017--------------
ALTER TABLE pathological_pattern ADD COLUMN total_source integer;
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN flag_deformity character varying(32);
ALTER TABLE opd_dermatology_leprosy_proforma ADD COLUMN flag_smear_examination character varying(32);
ALTER TABLE opd_dermatological_leprosy_examination ADD COLUMN flag character varying(32);
ALTER TABLE drug_uasge_pattern ADD COLUMN flag character varying(32);
--------------- Added by Babita on 08-12-2017  -----------------
 alter table opd_patient_allergy_t
     add allergy_remarks varchar(30);

//Added By Om Tripathi
alter table mas_hospital ADD column sim_no character varying(35);
alter table mas_hospital ADD column utid character varying(70);
alter table mas_hospital ADD column  mac character varying(60);
alter table mas_hospital ADD column tablet_status character varying(4);

alter table mas_survey_target add column annual_house_visit_count integer;
alter table mas_survey_target add column monthly_house_visit integer;     

---------------------------08/12/2017-----------
alter table opd_general_proforma_header add COLUMN distribution_parameter_value character varying(500);

-------------------- Added by Mansi on 11-12-2017--------------
ALTER TABLE mas_specialty_template
   ALTER COLUMN template_name TYPE character varying(128);

--------------- Added by Jyotish on 11-12-2017  -----------------

alter table opd_ent_examination_speciality add COLUMN rinne_other_value_left character varying(500);

alter table opd_ent_examination_speciality add COLUMN rinne_other_value_right character varying(500);

alter table opd_ent_examination_speciality add COLUMN olfaction_value_left character varying(500);

alter table opd_ent_examination_speciality add COLUMN olfaction_value_right character varying(500);

--------------- Added by Babita on 11-12-2017  -----------------
		alter table opd_patient_details
		alter column height type numeric(10,3);
		
		alter table opd_nursing_patient_details 
		alter column height type numeric(10,3);
alter table opd_general_proforma_header add COLUMN distribution_parameter_value character varying(500);




//--------------------------11/12/2017-----------------------------------------

ALTER TABLE opd_speciality_template_details
   ADD COLUMN parameter_type character varying(64);
alter table opd_general_proforma_header add COLUMN distribution_parameter_value character varying(500);

// Om tripathi

alter table opd_general_proforma_header add COLUMN prsenting_complaints character varying(500);
alter table opd_general_proforma_header add COLUMN past_history character varying(500);
alter table opd_general_proforma_header add COLUMN department_refset character varying(500);
alter table opd_general_proforma_header add COLUMN distribution character varying(500);
alter table opd_general_proforma_header add COLUMN mucous_membrane character varying(500);
alter table opd_general_proforma_header add COLUMN hair_value character varying(500);
alter table opd_general_proforma_header add COLUMN nails_value character varying(500);
alter table opd_general_proforma_header add COLUMN system_illness_value character varying(500);
alter table opd_general_proforma_header add COLUMN signs character varying(500);
alter table opd_general_proforma_header add COLUMN signs_value character varying(500);
alter table opd_general_proforma_header add COLUMN aggravating_factors_value character varying(500);
alter table opd_general_proforma_header add COLUMN opd_patient_details character varying(500);

//--------------------------By Babita on 12/12/2017-----------------------------------------
alter table opd_patient_details
alter column treatment_plan type varchar(512);

//--------------------------By Jyotish on 12/12/2017-----------------------------------------

alter table opd_ent_examination_speciality add COLUMN tympanic_left_perforation character varying(250);
alter table opd_ent_examination_speciality add COLUMN parse_flaccida_value_left character varying(250);
alter table opd_ent_examination_speciality add COLUMN left_parse_tensa character varying(250);
alter table opd_ent_examination_speciality add COLUMN right_central character varying(250);
alter table opd_ent_examination_speciality add COLUMN marginal_value_left character varying(250);
alter table opd_ent_examination_speciality add COLUMN left_middle_ear_mucosa character varying(250);
alter table opd_ent_examination_speciality add COLUMN left_discharge character varying(250);
alter table opd_ent_examination_speciality add COLUMN tympanic_right_perforation character varying(250);
alter table opd_ent_examination_speciality add COLUMN parse_flaccida_value_right character varying(250);
alter table opd_ent_examination_speciality add COLUMN right_parse_tensa character varying(250);
alter table opd_ent_examination_speciality add COLUMN left_central character varying(250);
alter table opd_ent_examination_speciality add COLUMN marginal_value_right character varying(250);
alter table opd_ent_examination_speciality add COLUMN right_middle_ear_mucosa character varying(250);
alter table opd_ent_examination_speciality add COLUMN right_discharge character varying(250);


//--------------------------By Babita on 12/12/2017-----------------------------------------
alter table opd_patient_details
alter column opd_remarks type varchar(500);

//--------------------------By Babita on 13/12/2017-----------------------------------------
alter table opd_general_surgery_past_speciality
add column relation smallint,
add constraint surgery_past_speciality_fk_relation foreign key (relation) references mas_relation(relation_id),
alter column opd_remarks type varchar(500);

--------------- Added by Swarup on 12-12-2017  -----------------
ALTER TABLE  opd_antenatal_card ADD Column marrital_history_remarks character varying(500);
ALTER TABLE  opd_antenatal_card ADD Column cvs character varying(500);

ALTER TABLE  external_lab_report  ADD Column template_name character varying(50);
ALTER TABLE  external_lab_report  ADD Column visit_date date;

ALTER TABLE external_lab_report 
ALTER COLUMN test_name SET DATA TYPE character varying(256);

ALTER TABLE external_lab_report
ALTER COLUMN test_result SET DATA TYPE character varying(256);

---------------------------Added by Jyotish on 13/12/2017---------------
ALTER TABLE opd_dermatology_leprosy_proforma ALTER COLUMN duration TYPE numeric(10,2); 

----------Ritu (13-12-2017)----

ALTER TABLE patient ADD COLUMN scheme_id integer;

ALTER TABLE patient
  ADD CONSTRAINT fk_patient_040 FOREIGN KEY (scheme_id) REFERENCES mas_scheme (scheme_id)
   ON UPDATE NO ACTION ON DELETE NO ACTION;
CREATE INDEX fki_patient_040
  ON patient(scheme_id);
---------------------------Added by Jyotish on 13/12/2017---------------
ALTER TABLE external_lab_report_common ALTER COLUMN test_name TYPE character varying(200);
  




--------------------------Added by abhishek on 14/12/17------------------------------------------------------

 alter table opd_ps_case_record_orthodotics alter column              
 presenting_complaints               type character varying(300), alter column   
 informar                            type character varying(300), alter column   
 any_other                           type character varying(300), alter column   
 father                              type character varying(300), alter column   
 mother                              type character varying(300), alter column   
 con                                 type character varying(300), alter column   
 male                                type character varying(300), alter column   
 female                              type character varying(300), alter column   
 parents_general                     type character varying(300), alter column   
 type_of_malocclusion                type character varying(300), alter column   
 siblings_general                    type character varying(300), alter column
 type_of_malocclusion_1              type character varying(300), alter column   
 familial_diseases                   type character varying(300), alter column   
 orthodontic_treatment               type character varying(300), alter column   
 parents_concern                     type character varying(300), alter column   
 patient_to_treatment                type character varying(300), alter column   
 mother_during_pregnancy             type character varying(300), alter column   
 bacterial                           type character varying(300), alter column   
 bacterial_value                     type character varying(300), alter column   
 viral                               type character varying(300), alter column   
 viral_value                         type character varying(300), alter column   
 parasitic                           type character varying(300), alter column   
 parasitic_value                     type character varying(300), alter column   
 history_of_trauma                   type character varying(300), alter column   
 drugs_taken                         type character varying(300), alter column   
 any_other_releveant_history         type character varying(300), alter column   
 maternal_nutritional_status         type character varying(300), alter column   
 vitamins_minerals                   type character varying(300), alter column   
 delivery                            type character varying(300), alter column   
 type_val                            type character varying(300), alter column   
 natal_history                       type character varying(300), alter column   
 natal_history_value                 type character varying(300), alter column   
 feeding                             type character varying(300), alter column   
 for_how_long                        type character varying(300), alter column   
 how_many_times_daily                type character varying(300), alter column   
 weaned_at_yrs                       type character varying(300), alter column   
 for_how_long_1                      type character varying(300), alter column   
 how_many_times_daily_1              type character varying(300), alter column   
 weaned_at_yrs_1                     type character varying(300), alter column   
 bottle_nipple                       type character varying(300), alter column   
 any_infection_rampant_caries        type character varying(300), alter column   
 bacterial_1                         type character varying(300), alter column   
 viral_1                             type character varying(300), alter column   
 systemic                            type character varying(300), alter column   
 non_systemic                        type character varying(300), alter column   
 other                               type character varying(300), alter column  
 past                                type character varying(300), alter column   
 present                             type character varying(300), alter column   
 sitting_normal_6_mnts               type character varying(300), alter column   
 crawling_normal_9_mnts              type character varying(300), alter column   
 standing_normal_12_mnts             type character varying(300), alter column   
 walking_normal_15_mnts              type character varying(300), alter column   
 running_normal_18_mnts              type character varying(300), alter column   
 speech_at_yrs                       type character varying(300), alter column   
 speech_at_yrs_normal                type character varying(300), alter column   
 speech_value                        type character varying(300), alter column   
 finger_thumb_sucking                type character varying(300), alter column   
 dummy_sucking                       type character varying(300), alter column   
 nail_biting_lip_biting              type character varying(300), alter column   
 tongue_thrusting                    type character varying(300), alter column   
 bruxism                             type character varying(300), alter column   
 mouth_breathing                     type character varying(300), alter column   
 if_any_habit_present                type character varying(300), alter column   
 duration                            type character varying(300), alter column   
 intensity                           type character varying(300), alter column   
 frequency                           type character varying(300), alter column   
 respiration                         type character varying(300), alter column   
 deglutition                         type character varying(300), alter column   
 mention_nature                      type character varying(300), alter column   
 fracture_of_teeth                   type character varying(300), alter column   
 fracture_of_jaws                    type character varying(300), alter column   
 any_other_1                         type character varying(300), alter column   
 treatment_done                      type character varying(300), alter column   
 build                               type character varying(300), alter column   
 gait                                type character varying(300), alter column   
 posture                             type character varying(300), alter column   
 body_type                           type character varying(300), alter column   
 body_proportion                     type character varying(300), alter column   
 pubis_to_head                       type character varying(300), alter column   
 ratio                               type character varying(300), alter column   
 biauricular_width                   type character varying(300), alter column   
 length_of_head                      type character varying(300), alter column   
 percentage                          type character varying(300), alter column   
 facial_form                         type character varying(300), alter column   
 facial_symmetry                     type character varying(300), alter column   
 facial_profile                      type character varying(300), alter column   
 facial_divergence                   type character varying(300), alter column   
 relative_size_of_nose               type character varying(300), alter column   
 chin                                type character varying(300), alter column   
 lower_lip                           type character varying(300), alter column   
 upper_lip                           type character varying(300), alter column   
 lip_posture                         type character varying(300), alter column   
 anatomic                            type character varying(300), alter column   
 physiologic                         type character varying(300), alter column   
 dental                              type character varying(300), alter column   
 lip_size                            type character varying(300), alter column   
 lip_size_upper                      type character varying(300), alter column   
 mento_labial_sulcus                 type character varying(300), alter column   
 inter_labial_gap                    type character varying(300), alter column   
 facial_height                       type character varying(300), alter column   
 facial_height_ufh                   type character varying(300), alter column   
 facial_height_lfh                   type character varying(300), alter column   
 facial_height_ratio                 type character varying(300), alter column   
 circum_oral_muscle_tone             type character varying(300), alter column   
 skeletal_class                      type character varying(300), alter column   
 max                                 type character varying(300), alter column   
 mand                                type character varying(300), alter column   
 respiration_history                 type character varying(300), alter column   
 mastication                         type character varying(300), alter column   
 deglutition_1                       type character varying(300), alter column   
 speech                              type character varying(300), alter column   
 path_of_closure                     type character varying(300), alter column   
 inter_incisal_opening_maximum       type character varying(300), alter column   
 smile_line                          type character varying(300), alter column   
 gingival_exposure                   type character varying(300), alter column   
 during_speech                       type character varying(300), alter column   
 during_smile                        type character varying(300), alter column   
 any_other2                          type character varying(300), alter column   
 frenum_attachment                   type character varying(300), alter column   
 frenum_attachment_upper             type character varying(300), alter column   
 frenum_attachment_lower             type character varying(300), alter column   
 gingival                            type character varying(300), alter column   
 pockets                             type character varying(300), alter column   
 attached_gingiva                    type character varying(300), alter column   
 tongue                              type character varying(300), alter column   
 size_1                              type character varying(300), alter column   
 shape                               type character varying(300), alter column   
 posture_1                           type character varying(300), alter column   
 mobility                            type character varying(300), alter column   
 habit                               type character varying(300), alter column   
 tonsils_and_adenoids                type character varying(300), alter column   
 tmj                                 type character varying(300), alter column   
 path_of_closure_1                   type character varying(300), alter column   
 occlusal_prematurities              type character varying(300), alter column   
 maximum_opening_between_incisors    type character varying(300), alter column   
 key_ridge                           type character varying(300), alter column   
 eruption_status                     type character varying(300), alter column   
 caries                              type character varying(300), alter column   
 restorations                        type character varying(300), alter column   
 defective_restorations              type character varying(300), alter column   
 unerupted_teeth                     type character varying(300), alter column   
 impactions                          type character varying(300), alter column   
 endodontically_trt                  type character varying(300), alter column   
 rotations                           type character varying(300), alter column   
 teeth_in_eruption                   type character varying(300), alter column   
 enamel                              type character varying(300), alter column   
 texture                             type character varying(300), alter column   
 white_spots                         type character varying(300), alter column   
 visible_cracks                      type character varying(300), alter column   
 shape_1                             type character varying(300), alter column   
 size_2                              type character varying(300), alter column   
 number_value                        type character varying(300), alter column   
 retained                            type character varying(300), alter column   
 premature_loss                      type character varying(300), alter column   
 early_eruption                      type character varying(300), alter column   
 late_eruption                       type character varying(300), alter column   
 occlusal_wear                       type character varying(300), alter column   
 base_relationship                   type character varying(300), alter column   
 oral_hygiene                        type character varying(300), alter column   
 type_of_home_care                   type character varying(300), alter column   
 maxillary_arch                      type character varying(300), alter column   
 mandibular_arch                     type character varying(300), alter column   
 arch_shape                          type character varying(300), alter column   
 arch_symmetry                       type character varying(300), alter column   
 arch_alignment                      type character varying(300), alter column   
 midline                             type character varying(300), alter column   
 molar                               type character varying(300), alter column   
 canine                              type character varying(300), alter column   
 over_jet                            type character varying(300), alter column   
 overbite                            type character varying(300), alter column   
 crossbite                           type character varying(300), alter column   
 midline_1                           type character varying(300), alter column   
 teeth_present                       type character varying(300), alter column   
 teeth_absent                        type character varying(300), alter column   
 root_formation                      type character varying(300), alter column   
 permanent_teeth                     type character varying(300), alter column   
 deciduous_teeth                     type character varying(300), alter column   
 permanent_teeth_1                   type character varying(300), alter column   
 deciduous_teeth_1                   type character varying(300), alter column   
 character_of_restoration            type character varying(300), alter column   
 lamina_dura                         type character varying(300), alter column   
 trabecular_pattern                  type character varying(300), alter column   
 supermumerary_teeth                 type character varying(300), alter column   
 third_molar_status                  type character varying(300), alter column   
 pathological_conditions             type character varying(300), alter column   
 any_other_3                         type character varying(300), alter column   
 sum_of_incisors                     type character varying(300), alter column   
 actual_1                            type character varying(300), alter column   
 ideal_1                             type character varying(300), alter column   
 difference                          type character varying(300), alter column   
 actual_2                            type character varying(300), alter column   
 ideal_2                             type character varying(300), alter column   
 difference_1                        type character varying(300), alter column   
 permolar_area                       type character varying(300), alter column   
 molar_area                          type character varying(300), alter column   
 actual_length                       type character varying(300), alter column   
 ideal                               type character varying(300), alter column   
 difference_2                        type character varying(300), alter column   
 indicates_anterior                  type character varying(300), alter column   
 total_maxillary_tooth_material      type character varying(300), alter column   
 inter_premolar_arch_width           type character varying(300), alter column   
 inter_canine_fossa_width            type character varying(300), alter column   
 maxillary_12                        type character varying(300), alter column   
 mandibular_12                       type character varying(300), alter column   
 maxillary_6                         type character varying(300), alter column   
 mandibular_6                        type character varying(300), alter column   
 tooth_material_upper                type character varying(300), alter column   
 tooth_material_lower                type character varying(300), alter column   
 arch_perimeter_upper                type character varying(300), alter column   
 arch_perimeter_lower                type character varying(300), alter column   
 difference_upper                    type character varying(300), alter column   
 difference_lower                    type character varying(300), alter column   
 inference                           type character varying(300), alter column   
 angle_class                         type character varying(300), alter column   
 molar_1                             type character varying(300), alter column   
 canine_1                            type character varying(300), alter column   
 over_jet_1                          type character varying(300), alter column   
 overbite_1                          type character varying(300), alter column   
 anterior                            type character varying(300), alter column   
 posterior                           type character varying(300), alter column   
 midline_upper                       type character varying(300), alter column   
 midline_lower                       type character varying(300), alter column   
 incisors                            type character varying(300), alter column   
 canines                             type character varying(300), alter column   
 molars                              type character varying(300), alter column   
 carpal_index                        type character varying(300), alter column   
 endocrine_study                     type character varying(300), alter column   
 calcium_plot                        type character varying(300), alter column   
 keslings_set_up                     type character varying(300), alter column   
 probable_etiology                   type character varying(300), alter column   
 general_treatment_objectives        type character varying(300), alter column   
 treatment_objectives                type character varying(300), alter column   
 treatment_plan                      type character varying(300), alter column   
 mechanotherapy                      type character varying(300), alter column   
 prognesis                           type character varying(300), alter column   
 retention_plan                      type character varying(300), alter column   
 abnormal_muscle_attachments         type character varying(300), alter column   
 m_b_r                               type character varying(300);   

 
 
 
 
  alter table opd_case_record_periodontics_header alter column 
 chief_complaint                     type character varying(300), alter column  
 history_of_present_illness          type character varying(300), alter column  
 past_medical_history                type character varying(300), alter column  
 drug_food_allergy                   type character varying(300), alter column  
 abnormal_bleeding_tendancy          type character varying(300), alter column  
 habits                              type character varying(300), alter column  
 familyhistory                       type character varying(300), alter column  
 facial_symmetry                     type character varying(300), alter column  
 eyes_ears_nose                      type character varying(300), alter column  
 lip_competance                      type character varying(300), alter column  
 tmj_examination                     type character varying(300), alter column  
 lymph_node_examination              type character varying(300), alter column  
 others                              type character varying(300), alter column  
 buccal_mucosa                       type character varying(300), alter column  
 labial_mucosa                       type character varying(300), alter column  
 tongue                              type character varying(300), alter column  
 hard_palate                         type character varying(300), alter column  
 soft_palate                         type character varying(300), alter column  
 floor_of_mouth                      type character varying(300), alter column  
 tonsils                             type character varying(300), alter column  
 frenal_attachment                   type character varying(300), alter column  
 max_clinical_feature                type character varying(300), alter column  
 max_right_posterior                 type character varying(300), alter column  
 max_anterior                        type character varying(300), alter column  
 max_left_posterior                  type character varying(300), alter column  
 man_clinical_feature                type character varying(300), alter column  
 man_right_oposterior                type character varying(300), alter column  
 man_anterior                        type character varying(300), alter column  
 man_left_posterior                  type character varying(300), alter column  
 tension_test                        type character varying(300), alter column  
 attached_gingiva                    type character varying(300), alter column  
 vestibular_depth                    type character varying(300), alter column  
 ulceration                          type character varying(300), alter column  
 gingival_abscess                    type character varying(300), alter column  
 periodontal_abscess                 type character varying(300), alter column  
 pericoronnal_abscess                type character varying(300), alter column  
 hard_tissue_examination             type character varying(300), alter column  
 i_o_p_a_view                        type character varying(300), alter column  
 o_p_g_view                          type character varying(300), alter column  
 study_models_pre_operative          type character varying(300), alter column  
 study_models_post_operative         type character varying(300), alter column  
 tooth_fracture                      type character varying(300), alter column  
 hypoplasia_flurosis                 type character varying(300), alter column  
 attrition                           type character varying(300), alter column  
 abrasion                            type character varying(300), alter column  
 erosion                             type character varying(300), alter column  
 abfractioin                         type character varying(300), alter column  
 filled_teeth                        type character varying(300), alter column  
 premature_contacts                  type character varying(300), alter column  
 furcation_involvement               type character varying(300), alter column  
 missing_teeth_and_reason_for_i_t    type character varying(300), alter column  
 angles_classification               type character varying(300), alter column  
 overjet                             type character varying(300), alter column  
 overbite                            type character varying(300), alter column  
 fremitus                            type character varying(300), alter column  
 crossbite                           type character varying(300), alter column  
 working_side                        type character varying(300), alter column  
 balancing_side                      type character varying(300), alter column  
 mobility                            type character varying(300), alter column  
 photographs_pre_operative           type character varying(300), alter column  
 photographs_post_operative          type character varying(300), alter column  
 furcation_involvement_val           type character varying(300), alter column  
 mobility_val                        type character varying(300), alter column  
 fremitus_val                        type character varying(300);
 
 
  alter table opd_community_oral_health_header alter column
  education                         type character varying(300),alter column  
 occupation                        type character varying(300),alter column  
 per_capita_income                 type character varying(300),alter column  
 socio_economic_status             type character varying(300),alter column  
 place_of_birth                    type character varying(300),alter column  
 continuous_residence              type character varying(300),alter column  
 water_source                      type character varying(300),alter column  
 chief_complaint                   type character varying(300),alter column  
 history_of_pesent_illness         type character varying(300),alter column  
 medical_history                   type character varying(300),alter column  
 medical_history_value             type character varying(300),alter column 
 dental_history                    type character varying(300),alter column  
 dental_history_value              type character varying(300),alter column  
 smoking_number                    type character varying(300),alter column  
 smoking_frequency                 type character varying(300),alter column  
 smoking_duration                  type character varying(300),alter column  
 smoking_duration_value            type character varying(300),alter column  
 tobaco_chewing_number             type character varying(300),alter column  
 tobaco_chewing_frequency          type character varying(300),alter column  
 tobaco_chewing_duration           type character varying(300),alter column  
 tobaco_chewing_duration_value     type character varying(300),alter column  
 pan_chewing_number                type character varying(300),alter column  
 pan_chewing_frequency             type character varying(300),alter column  
 pan_chewing_duration              type character varying(300),alter column  
 pan_chewing_duration_value        type character varying(300),alter column  
 gutka_number                      type character varying(300),alter column  
 gutka_frequency                   type character varying(300),alter column  
 gutka_duration                    type character varying(300),alter column  
 gutka_duration_value              type character varying(300),alter column  
 snuff_number                      type character varying(300),alter column  
 snuff_frequency                   type character varying(300),alter column  
 snuff_duration                    type character varying(300),alter column  
 snuff_duration_value              type character varying(300),alter column  
 betel_nut_chewing_number          type character varying(300),alter column  
 betel_nut_chewing_frequency       type character varying(300),alter column  
 betel_nut_chewing_duration        type character varying(300),alter column  
 betel_nut_chewing_duration_value  type character varying(300),alter column  
 alcoholic_number                  type character varying(300),alter column  
 alcoholic_frequency               type character varying(300),alter column  
 alcoholic_duration                type character varying(300),alter column  
 alcoholic_duration_value          type character varying(300),alter column  
 drugs_number                      type character varying(300),alter column  
 drugs_frequency                   type character varying(300),alter column  
 drugs_duration                    type character varying(300),alter column  
 drugs_duration_value              type character varying(300),alter column  
 habits_related                    type character varying(300),alter column  
 habits_related_value              type character varying(300),alter column 
 type_of_cleaning_brush            type character varying(300),alter column  
 type_of_cleaning_finger           type character varying(300),alter column  
 type_of_cleaning_stick            type character varying(300),alter column  
 type_of_cleaning_any_other        type character varying(300),alter column  
 method_of_cleaning_vertical       type character varying(300),alter column  
 method_of_cleaning_horizontal     type character varying(300),alter column  
 method_of_cleaning_circular       type character varying(300),alter column  
 materials_tooth_paste             type character varying(300),alter column  
 materials_powder                  type character varying(300),alter column  
 materials_charcoal                type character varying(300),alter column  
 materials_any_other               type character varying(300),alter column  
 cleaning_brushing_once            type character varying(300),alter column  
 cleaning_brushing_twice           type character varying(300),alter column  
 cleaning_brushing_thrice          type character varying(300),alter column  
 cleaning_brushing_immediately     type character varying(300),alter column  
 flossing_inter                    type character varying(300),alter column  
 oral_mouth_rinse                  type character varying(300),alter column  
 dietary                           type character varying(300),alter column  
 gait                              type character varying(300),alter column  
 posture                           type character varying(300),alter column  
 built                             type character varying(300),alter column  
 nourishment                       type character varying(300),alter column  
 symmetry_of_face                  type character varying(300),alter column  
 temporomandibular_joint           type character varying(300),alter column  
 lymph_nodes                       type character varying(300),alter column  
 lip                               type character varying(300),alter column  
 labical_mucosa                    type character varying(300),alter column  
 buccal_mucosa                     type character varying(300),alter column  
 floor_of_the_mouth                type character varying(300),alter column  
 tounge                            type character varying(300),alter column  
 gingiva                           type character varying(300),alter column  
 palate                            type character varying(300),alter column  
 type_of_definition                type character varying(300),alter column  
 number_of_teeth_present           type character varying(300),alter column  
 teeth_absent_reasonloss           type character varying(300),alter column  
 dental_caries                     type character varying(300),alter column  
 filled_teeth                      type character varying(300),alter column  
 any_prosthesis                    type character varying(300),alter column  
 wasting_disease                   type character varying(300),alter column  
 enamel_hypolasia                  type character varying(300),alter column  
 supernumerary_teeth               type character varying(300),alter column  
 malocclusion                      type character varying(300),alter column  
 occlusal_traumatism               type character varying(300),alter column  
 fractured_non_vitaltooth          type character varying(300),alter column  
 stains                            type character varying(300),alter column  
 dental_deposits                   type character varying(300),alter column  
 gingivitis                        type character varying(300),alter column  
 periodontal_pocket                type character varying(300),alter column  
 mobility_of_teeth                 type character varying(300),alter column  
 emergency                         type character varying(300),alter column  
 promotive                         type character varying(300),alter column  
 preventive                        type character varying(300),alter column  
 curative                          type character varying(300),alter column  
 rehabilitative                    type character varying(300),alter column  
 maintenance                       type character varying(300),alter column  
 health_promotion                  type character varying(300),alter column  
 specific_protection               type character varying(300),alter column  
 prompt_treatment                  type character varying(300),alter column  
 disability_limitations            type character varying(300),alter column  
 rehabilitation                    type character varying(300); 
 
  
//--------------------------By Amit Das on 14/12/2017-----------------------------------------

alter table patient_episode
alter column episode_desc type character varying(300)

  
-------------------------By Babita on 14/12/2017---------------------------------------
alter table opd_general_surgery_past_speciality
add column relation smallint,
add constraint surgery_past_speciality_fk_relation foreign key (relation) references mas_relation(relation_id)




-------------------------------------By abhishek  14-12-17--------------------------------------------------------------

alter table opd_maxillofacial_trauma_header
 alter column
case_of_injury type character varying(400), alter column
  clinical_features type character varying(400), alter column
  maxilla_fracture type character varying(400), alter column
  step_defect_radio type character varying(200), alter column
  deranged_occlusion_radio type character varying(200), alter column
  crepitus_radio type character varying(200), alter column
  sublingual_hematoma_radio type character varying(200), alter column
  other_radigraphic_value type character varying(400), alter column
  site_of_fracture type character varying(400), alter column
  radio_graphic_diagnosis type character varying(400)
  
  
  
alter table opd_pedodontics_vital_statistics_details
 alter column
  breakfast_type_quantity type character varying(400), alter column
  breakfast_preparation type character varying(400), alter column
  snacks_type_quantity type character varying(400), alter column
  snacks_preparation type character varying(400), alter column
  lunch_type_quantity type character varying(400), alter column
  lunch_preparation type character varying(400), alter column
  snacks_type_quantity_one type character varying(400), alter column
  snacks_preparation_one type character varying(400), alter column
  dinner_type_quantity type character varying(400), alter column
  dinner_preparation type character varying(400), alter column
  before_bed_quantity type character varying(400), alter column
  before_bed_preparation type character varying(400)

  
 
----------Mansi (14-12-2017)----
ALTER TABLE opd_respiratory_speciality_detail ADD COLUMN symptoms_others character varying(128);
ALTER TABLE opd_respiratory_speciality_header ADD COLUMN  partial_value character varying(128);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN gestational_age TYPE character varying(32);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN skin TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN face TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN conjunctiva TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN ear TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN nose TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN throat TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN clubbing TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN work_of_brathing TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN chest TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN shape_value TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN wheeze TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN other_adventitious_sounds TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN abdomen TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN cvs TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN allergy_skin_test TYPE character varying(512);
ALTER TABLE opd_respiratory_speciality_header ALTER COLUMN breath_sounds_value TYPE character varying(512);


-------------------------------------By Amit 14-12-17---------------------------------------
    
ALTER TABLE opd_patient_details
  ADD COLUMN clinical_findings character varying(300);
  
  ---------------------------------Added by Swarup on 14/12/2017-------------------------------------
  
ALTER TABLE opd_antenatal_card RENAME COLUMN cvs TO cvs_gen_exam
  
  ---------------------------------Added by Jyotish on 15/12/2017-------------------------------------

ALTER TABLE opd_general_surgery_speciality ALTER COLUMN bowel TYPE character varying(300);

ALTER TABLE opd_general_surgery_speciality ALTER COLUMN bladder TYPE character varying(300);

ALTER TABLE opd_general_surgery_speciality ALTER COLUMN other_addictions TYPE character varying(300);

alter table opd_patient_details add COLUMN opd_pallor character varying(10);
alter table opd_patient_details add COLUMN opd_jaundice character varying(10);
alter table opd_patient_details add COLUMN opd_cyanosis character varying(10);
alter table opd_patient_details add COLUMN opd_lymphadenopathy character varying(10);
alter table opd_patient_details add COLUMN opd_edema character varying(10);
    
    
 ----------Mansi (15-12-2017)----
ALTER TABLE opd_nicu_case_record ADD COLUMN total_source_one character varying(8);

ALTER TABLE opd_nicu_case_record ADD COLUMN total_source_two character varying(8);

ALTER TABLE opd_nicu_case_record ADD COLUMN grand_total_source character varying(8);
    

----------Mansi (16-12-2017)----
ALTER TABLE opd_psychogeriatric_clinic_speciality ADD COLUMN total_score_gds_zero integer;    
ALTER TABLE opd_psychogeriatric_clinic_speciality ADD COLUMN impulse_dyscontrol_symptoms character varying(512);    
ALTER TABLE drug_usage
   ALTER COLUMN drug_name TYPE character varying(32);
ALTER TABLE drug_uasge_pattern
   ALTER COLUMN drug_name TYPE character varying(32);
ALTER TABLE drug_usage_history
   ALTER COLUMN drug_name TYPE character varying(32);
   
   
 ----------Amit (16-12-2017)----
    
ALTER TABLE opd_patient_history
  ADD COLUMN comorbidity_history character varying(500);
    
      ----------Babita (18-12-2017)----
create table child_expected_wt_ht_chart
(id  serial NOT NULL primary key,
child_weight numeric (10,1),
child_height numeric (10,1),
child_age_in_days smallint,
child_gender int,
 constraint child_gender_fk foreign key (child_gender) references mas_administrative_sex(administrative_sex_id)
);

alter table opd_patient_details
add ear_examination varchar(500),
add nose_pns_examination varchar(500),
add oral_cavity_throat_examination varchar(500),
add neck_examination varchar(500);


alter table opd_patient_history
add development_history varchar(500),
 add diet_history varchar(500),
 add socio_economic_history varchar(500),
   add past_history varchar(500);
    
      ------------------------------Babita (19-12-2017)---------------------------------

INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 3.3,50.5,1,3);

INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 6, 62.1,90 , 3);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 7.8,67.8,180, 3);

    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 9.2,72.3,270, 3);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 10.2,76.1,365, 3);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 12.3,85.6,730, 3);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 14.6,94.9,1095, 3);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 16.7,102.9,1460, 3);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 18.7,109.9,1825, 3);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 20.7,116.1,2190, 3);

    INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES (22.9 ,121.7,2555, 3);

    INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 25.3,127,2920, 3);

    INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 28.1,132.2,3285, 3);

    
    INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES (31.4,137.2,3650, 3);

     INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES (32.2,140,4015, 3);

     INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES (37,147,4380, 3);



/*****************************************************************************************************/

INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 3.2,49.9,1,2);

INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 5.4, 60.2,90 , 2);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 7.2,66.6,180, 2);

    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 8.6,71.1,270, 2);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 9.5,75,365, 2);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 11.8,84.5,730, 2);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 14.1,93.9,1095, 2);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 16.0,101.6,1460, 2);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 17.7,108.4,1825, 2);
    
INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 19.,114.6,2190, 2);

    INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES (21.8 ,120.6,2555, 2);

    INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 24.8,126.4,2920, 2);

    INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES ( 28.5,132.2,3285, 2);

    
    INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES (32.5,138.3,3650, 2);

     INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES (33.7,142,4015, 2);

     INSERT INTO child_expected_wt_ht_chart(
             child_weight, child_height, child_age_in_days, child_gender)
    VALUES (38.7,148,4380, 2);

---------------------------------Added by abhishek on 19/12/2017-------------------------------------

ALTER TABLE opd_maxillofacial_trauma_header
   ALTER COLUMN mandible_fracture TYPE character varying(400);
   
   alter TABLE opd_endodontics_header
ALTER COLUMN 

  chief_complaint_value type character varying(500), alter
  nature_of_pain type character varying(500), alter
  quality type character varying(500), alter
  onset type character varying(500), alter
  location type character varying(500), alter
  duration type character varying(500), alter
  initiated_by type character varying(500), alter
  releived_by type character varying(500), alter
  others type character varying(500), alter
  facialswellinga type character varying(10), alter
  facialswellinga_value type character varying(500), alter
  lymphnode_enlargement type character varying(10), alter
  lymphnode_enlargement_value type character varying(500), alter
  swelling type character varying(10), alter
  swelling_value type character varying(500), alter
  nature type character varying(500), alter
  location_endodontics type character varying(500), alter
  sinus_tract type character varying(10), alter
  sinus_tractvalue type character varying(500)
  
  
    ------------------------------Mansi (19-12-2017)---------------------------------
 ALTER TABLE opd_ent_examination_speciality
   ALTER COLUMN appearance TYPE character varying(256);
   
---------------------------------Added by Swarup on 19/12/2017-------------------------------------
CREATE TABLE opd_diagnostic_record
(
  diagnostic_record_id serial NOT NULL,
  hin_id integer,
  visit_id integer,
  hospital_id integer,
  department_id integer,
  medical_history character varying(250),
  chief_complaint character varying(250),
  edentulousness_maxillary character varying(128),
  edentulousness_mandibular character varying(128),
  prosthesis_maxillary character varying(128),
  prosthesis_mandibular character varying(128),
  previous_maxillary character varying(128),
  previous_mandibular character varying(128),
  root_stumps character varying(8),
  root_stumps_value character varying(128),
  mobile_teeth character varying(8),
  mobile_teeth_value character varying(128),
  plaque character varying(8),
  plaque_value character varying(128),
  calculus character varying(8),
  calculus_value character varying(128),
  oral_lesions character varying(8),
  oral_lesions_value character varying(128),
  defects character varying(16),
  defects_value character varying(128),
  mouth_opening character varying(16),
  mouth_opening_value character varying(128),
  preprosthetic_procedures character varying(3),
  preprosthetic_procedures_value character varying(128),
  minorsurgical_procedures character varying(3),
  minorsurgical_procedures_value character varying(128),
  CONSTRAINT pk__opd_diagnostic_record PRIMARY KEY (diagnostic_record_id),
  CONSTRAINT fk_pk__opd_diagnostic_record_1 FOREIGN KEY (hin_id)
      REFERENCES patient (hin_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_pk__opd_diagnostic_record_2 FOREIGN KEY (visit_id)
      REFERENCES visit (visit_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_pk__opd_diagnostic_record_3 FOREIGN KEY (hospital_id)
      REFERENCES mas_hospital (hospital_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_pk__opd_diagnostic_record_4 FOREIGN KEY (department_id)
      REFERENCES mas_department (department_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
 

ALTER TABLE opd_pre_assessment_clinic_dental ADD COLUMN diagnostic_record_id integer;

 ALTER TABLE opd_pre_assessment_clinic_dental
  ADD CONSTRAINT fk_pk__opd_pre_assessment_clinic_dental_12 FOREIGN KEY (diagnostic_record_id)
      REFERENCES opd_diagnostic_record (diagnostic_record_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION;


-----------------added by abhishek 20-12-2017------------------------------------

ALTER TABLE opd_implant_planning_header RENAME COLUMN adjacent_softtissues TO adjacent_soft_tissues

ALTER TABLE opd_implant_planning_header RENAME COLUMN parafunctional_abits TO parafunctional_habits

ALTER TABLE  opd_implant_planning_header  ALTER COLUMN type_value TYPE character varying(128);

ALTER TABLE opd_patient_history ADD COLUMN comorbidity_history character varying(500);

ALTER TABLE  opd_fixed_prosthodontics_header ADD  COLUMN treatment_planning character varying(500)


alter table opd_pre_assessment_clinic_dental   alter column      
  teeth_18_value type character varying(2000), alter
  teeth_17_value type character varying(2000), alter
  teeth_16_value type character varying(2000), alter
  teeth_15_value type character varying(2000), alter
  teeth_14_value type character varying(2000), alter
  teeth_13_value type character varying(2000), alter
  teeth_12_value type character varying(2000), alter
  teeth_11_value type character varying(2000), alter
  teeth_21_value type character varying(2000), alter
  teeth_22_value type character varying(2000), alter
  teeth_23_value type character varying(2000), alter
  teeth_24_value type character varying(2000), alter
  teeth_25_value type character varying(2000), alter
  teeth_26_value type character varying(2000), alter
  teeth_27_value type character varying(2000), alter
  teeth_28_value type character varying(2000), alter
  teeth_48_value type character varying(2000), alter
  teeth_47_value type character varying(2000), alter
  teeth_46_value type character varying(2000), alter
  teeth_45_value type character varying(2000), alter
  teeth_44_value type character varying(2000), alter
  teeth_43_value type character varying(2000), alter
  teeth_42_value type character varying(2000), alter
  teeth_41_value type character varying(2000), alter
  teeth_31_value type character varying(2000), alter
  teeth_32_value type character varying(2000), alter
  teeth_33_value type character varying(2000), alter
  teeth_34_value type character varying(2000), alter
  teeth_35_value type character varying(2000), alter
  teeth_36_value type character varying(2000), alter
  teeth_37_value type character varying(2000), alter
  teeth_38_value type character varying(2000), alter
  teeth_51_value type character varying(2000), alter
  teeth_52_value type character varying(2000), alter
  teeth_53_value type character varying(2000), alter
  teeth_54_value type character varying(2000), alter
  teeth_55_value type character varying(2000), alter
  teeth_61_value type character varying(2000), alter
  teeth_62_value type character varying(2000), alter
  teeth_63_value type character varying(2000), alter
  teeth_64_value type character varying(2000), alter
  teeth_65_value type character varying(2000), alter
  teeth_81_value type character varying(2000), alter
  teeth_82_value type character varying(2000), alter
  teeth_83_value type character varying(2000), alter
  teeth_84_value type character varying(2000), alter
  teeth_85_value type character varying(2000), alter
  teeth_71_value type character varying(2000), alter
  teeth_72_value type character varying(2000), alter
  teeth_73_value type character varying(2000), alter
  teeth_74_value type character varying(2000), alter
  teeth_75_value type character varying(2000)

 

alter table  opd_pathologic_migration alter column  
  teeth_1  type character varying(200),alter
  teeth_2  type character varying(200),alter
  teeth_3  type character varying(200),alter
  teeth_4  type character varying(200),alter
  teeth_5  type character varying(200),alter
  teeth_6  type character varying(200),alter
  teeth_7  type character varying(200),alter
  teeth_8  type character varying(200),alter
  teeth_9  type character varying(200),alter
  teeth_10 type character varying(200),alter
  teeth_11  type character varying(200),alter
  teeth_12  type character varying(200),alter
  teeth_13  type character varying(200),alter
  teeth_14  type character varying(200),alter
  teeth_15  type character varying(200),alter
  teeth_16  type character varying(200)
    
    
 
alter table opd_examination_of_gingiva
alter column
  clinical_feature type character varying(800),alter
  right_posterior type character varying(800),alter
  anterior type character varying(800),alter
  left_posterior type character varying(800) 
  
  
   
 
    ------------------------------Mansi (20-12-2017)---------------------------------
 ALTER TABLE opd_general_surgery_speciality
 ADD COLUMN others_data  character varying(128);
 ALTER TABLE opd_general_surgery_speciality
 ADD COLUMN fluid_thrill  character varying(8);
 ALTER TABLE opd_general_surgery_speciality
 ADD COLUMN gcs_total  character varying(8);
 
  ------------------------------Mansi (21-12-2017)---------------------------------
 ALTER TABLE opd_general_surgery_speciality
 ADD COLUMN presenting_complaints  character varying(256);
 ALTER TABLE drug_uasge_pattern
 ADD COLUMN primary_drug_of_abuse  character varying(128);
  
  ALTER TABLE drug_uasge_pattern
 ADD COLUMN secondary_drugof_abuse  character varying(128);

  ------------------------------Mansi (22-12-2017)---------------------------------
ALTER TABLE pathological_pattern
 ADD COLUMN did_you  character varying(8);
     
ALTER TABLE drug_uasge_pattern RENAME secondary_drugof_abuse  TO secondary_drug_of_abuse;

ALTER TABLE pathological_pattern
 ADD COLUMN what_about  character varying(128);
 
 ALTER TABLE drug_related_problem
   ALTER COLUMN txt_previous_attempts TYPE character varying(256);
 
 //Added By Om Tripathi 21/12/2017
  
  alter table mas_survey_target_status ADD column institution_type_id integer;
  
  
   ------------------------------Babita (21-12-2017)---------------------------------
    alter table opd_patient_history
	add menstrual_history varchar(500),
	add obstretic_history varchar(500);
	
	alter table opd_patient_details
	add column management_plan varchar(500);
	
	---------------------------------Added by Swarup on 21/12/2017-------------------------------------
	
	ALTER TABLE  opd_removable_partial_prosthodontics_header  ADD COLUMN treatment_planning character varying(300);
	
	---------------------
  alter table opd_oral_and_maxillofacial_surgery alter column
  chest_pain type character varying(300),alter
  palpitation type character varying(300),alter
  hypertension type character varying(300),alter
  murmers type character varying(300),alter
  cough type character varying(300),alter
  wheezing type character varying(300),alter
  dyspnoea type character varying(300),alter
  nasal_block type character varying(300),alter
  dizziness type character varying(300),alter
  tremors type character varying(300),alter
  headache type character varying(300),alter
  vommitting type character varying(300),alter
  parathesisa type character varying(300),alter
  convulsion type character varying(300),alter
  polyuria type character varying(300),alter
  oligouria type character varying(300),alter
  heamatuia type character varying(300),alter
  temperature type character varying(300),alter
  conistency type character varying(300),alter
  tenderness type character varying(300)
  
	---------------------------
alter table opd_oral_and_maxillofacial_surgery alter column
  submeantal type character varying(8),alter
  sub_mandibular type character varying(8),alter
  upper_juglodidastric type character varying(8),alter
  mid_juglodigastric type character varying(8),alter
  supra_clavicular type character varying(8),alter
  posterior_triangle type character varying(8),alter
  edema_pitting type character varying(8),alter
  edema_nonpitting type character varying(8)

	---------------------------
CREATE TABLE opd_inspection_soft_tissue 
( 
inspection_soft_tissue_id serial NOT NULL, 
oral_and_maxillofacial_surgery_id integer, 
flag character varying(50), 
size character varying(50), 
site character varying(50), 
number_inspection character varying(50), 
type_of_injury character varying(50), 
comments_soft_tissue character varying(50), 
left_soft_tissue character varying(50), 
right_soft_tissue character varying(50), 
shape character varying(50), 
colour character varying(50), 
discharge character varying(50), 
surface character varying(50), 
skin_over_the_swelling character varying(50), 

CONSTRAINT pk__opd_inspection_soft_tissue PRIMARY KEY (inspection_soft_tissue_id), 
CONSTRAINT fk_pk__opd_inspection_soft_tissue_1 FOREIGN KEY (oral_and_maxillofacial_surgery_id) 
REFERENCES opd_oral_and_maxillofacial_surgery (oral_and_maxillofacial_surgery_id) MATCH SIMPLE 
ON UPDATE NO ACTION ON DELETE NO ACTION 
) 
WITH ( 
OIDS=FALSE 
); 
ALTER TABLE opd_inspection_soft_tissue 
OWNER TO postgres;

	---------------------------
ALTER TABLE  opd_community_oral_health_detail   ALTER COLUMN quantity_sugar_exposure TYPE character varying(300);
ALTER TABLE  opd_community_oral_health_detail   ALTER COLUMN time_of_intake TYPE character varying(300);
	


	------------------Babita (26-12-2017)---------------------
	alter table opd_psychogeriatric_clinic_speciality
	add column impulse_dyscontrol_dymptoms varchar (512);

	alter table opd_patient_details 
	add column deferred_diagnosis varchar (1);
	
		
	alter table opd_patient_history 
	alter column personal_past_history TYPE varchar (1024);
	
	alter table opd_patient_history 
	alter column surgical_history TYPE varchar (1024);
	
	alter table opd_patient_history 
	alter column family_past_history TYPE varchar (1024);
	
	alter table opd_patient_history 
	alter column madication_history TYPE varchar (1024);
	
	alter table opd_patient_history 
	alter column permorbid_personality TYPE varchar (1024);
	
	
	alter table opd_patient_history 
	alter column personal_present_history TYPE varchar (1024);
		
---------  Added By Srikanth on 29-11-2017 -----------------  

ALTER TABLE ot_book_surgeon ADD COLUMN status character varying(1);
ALTER TABLE ot_book_surgeon ADD COLUMN ot_intra_operative_timeout_id integer;

alter table patient_prescription_details  add column block_medicine character varying(1);
alter table patient_prescription_details  add column block_days integer;
alter table opd_surgery_detail  add column pac_request character varying(1);

ALTER TABLE ot_pre_anesthesia_details ADD COLUMN allergy character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN diabetes character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN psychiatric_illness character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN menstruation character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN asthma character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN epilepsy character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN tuberculosis character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN child_birth character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN chest_pain character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN exercise_intolerance character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN Previous_surgeries character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN smoking character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN cough character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN hypertension character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN Previous_anesthetic character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN alcoholism character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN dyspnoea character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN heart_disease character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN general_anesthesia character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN dentures character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN dysphagia character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN hoarseness character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN spinal_anesthesia character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN contact_lens character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN dyspepsia character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN ihd character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN complications character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN hearing_aids character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN acid_peptic_disorders character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN jaundice character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN ponv character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN history_remarks character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN antiallegeric character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN cebs character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN antiplatelets character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN antihypertensives character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN antianginals character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN antituberculous character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN antiasthmatics character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN antidiabetics character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN antimalignancy character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN diuretics character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN antiepileptics character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN antithyroid character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN digoxin character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN antipsychotics character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN antacid character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN beta_blockers character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN steroids character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN h2_blockers character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN drug_history_others character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN drug_history_remarks character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN mouth_opening character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN tmj character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN neck_movements character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN tooth character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN mallampatti_class character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN allens_test character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN respiratory_system character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN trachea character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN lungs character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN central_nervous_system character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN gastrointestinal_system character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN physical_examination character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN cardio_vascular_system character varying(250);
ALTER TABLE ot_pre_anesthesia_details ADD COLUMN ot_pre_anesthesia_details_id integer;

ALTER TABLE ot_pre_anesthesia_details ADD COLUMN aac_acceptance_id integer;

ALTER TABLE external_lab_report_common ADD COLUMN ot_pre_anesthesia_details_id integer;
ALTER TABLE external_lab_report_common ADD COLUMN inpatient_id integer;

ALTER TABLE aac_acceptance ADD COLUMN ot_pre_anesthesia_details_id integer;
alter table aac_acceptance ADD CONSTRAINT fk_ot_pre_anesthesia_details FOREIGN KEY (ot_pre_anesthesia_details_id)
REFERENCES ot_pre_anesthesia_details(id);

alter table external_lab_report_common ADD CONSTRAINT fk_ot_pre_anesthesia_details FOREIGN KEY (ot_pre_anesthesia_details_id)
REFERENCES ot_pre_anesthesia_details(id);

alter table external_lab_report_common ADD CONSTRAINT fk_inpatient FOREIGN KEY (inpatient_id)
REFERENCES inpatient(inpatient_id);

ALTER TABLE opd_patient_allergy_t ADD COLUMN block_days integer;
ALTER TABLE opd_patient_allergy_t ADD COLUMN blocked_status character varying(1);

CREATE TABLE aac_acceptance
(
id serial NOT NULL,
grading_asaps character varying(256),
grading_goldman character varying(256),
grading_pugh character varying(256),
grading_child character varying(256),
grading_detsky character varying(256),
nil_per_oral character varying(256),
informed_consent character varying(256),
previous_day_medicine character varying(256),
night_sedation character varying(256),
medicine_at_6am character varying(256),
cardiac_drugs character varying(256),
advice_before_surgery character varying(256),
surgery_day_investigations character varying(256),
infective_endocarditis character varying(256),
remove_artificial character varying(256),
pre_medications character varying(256),
others character varying(256),
acceptance_status character varying(1),
remarks character varying(256),
consultations character varying(256),
further_investigations_needed character varying(256) 
)
WITH (
  OIDS=FALSE
);
ALTER TABLE aac_acceptance
  OWNER TO postgres;
  
  
  ---------------------------------Added by Awadhesh on 27/12/2017-------------------------------------

ALTER TABLE ph_disease_registration_screening
   ADD COLUMN hip character varying(16);

   ALTER TABLE ph_disease_registration_screening
   ADD COLUMN blood_sugar_rbs character varying(16);

   ALTER TABLE ph_disease_registration_screening
   ADD COLUMN waist_hip_ratio character varying(16);	
   
   
   ALTER TABLE public.ph_alert ADD COLUMN alert_message character varying(300);
			
   
----------Added by Arbind on 28-12-2017-----------

ALTER TABLE opd_orthopedic_speciality
  ADD COLUMN nature_of_injury_others character varying(256);
  
  
---------------------------------Added by swarup on 28/12/2017-----------------------------------------------   
ALTER TABLE  opd_general_proforma_header ADD column presenting_complaints_others_value character varying(500); 
ALTER TABLE  opd_general_proforma_header ADD column aggravating_factors_others_value character varying(500); 
ALTER TABLE  opd_general_proforma_header ADD column past_history_others_value character varying(500); 
ALTER TABLE  opd_general_proforma_header ADD column mucous_menbrane_others_value character varying(500); 
ALTER TABLE  opd_general_proforma_header ADD column hair_others_value character varying(500); 
ALTER TABLE  opd_general_proforma_header ADD column nails_others_value character varying(500); 
ALTER TABLE  opd_general_proforma_header ADD column system_illness_others_value character varying(500); 
ALTER TABLE  opd_general_proforma_header ADD column signs_others_value character varying(500); 



..........................Awadhesh 29/12/2017..............................
ALTER TABLE ph_alert ADD COLUMN visit_date date;
ALTER TABLE public.ph_alert ADD COLUMN diagnosis_status character varying(4);

---------------------------------Added by swarup on 30/12/2017-----------------------------------------------  
ALTER TABLE  opd_general_proforma_detail  ALTER  column aggravating_factors TYPE character varying(128); 
ALTER  TABLE  opd_general_proforma_header ADD column drug_history_value character varying(500);  
  
   alter table opd_general_proforma_header  ALTER column
  presenting_complaint_value type character varying(500),alter
  past_history_value type character varying(500),alter
  family_history_value type character varying(500),alter
  mucous_menbrane_value type character varying(500)
  
---------------------------------Added by Jyotish on 02/01/2018-----------------------------------------------  
ALTER TABLE opd_audiological_exam_ent_speciality ALTER COLUMN remarks TYPE character varying(300);
ALTER TABLE opd_audiological_exam_ent_speciality ALTER COLUMN srt_other_tests TYPE character varying(300);

---------------------------------Added by Mansi on 03/01/2018-----------------------------------------------
ALTER TABLE drug_uasge_pattern DROP COLUMN drug_amount_used;
ALTER TABLE drug_uasge_pattern  ADD COLUMN drug_amount_used numeric(10,3);
ALTER TABLE drug_usage_history ADD COLUMN others_drug_name character varying(128);
ALTER TABLE opd_general_surgery_speciality
   ALTER COLUMN generalized_lymphadenopathy_txt_value TYPE character varying(512);
   
---------------------------------Added by Jyotish on 04/01/2018-----------------------------------------------    
alter table opd_patient_history add COLUMN antenatal_history character varying(1024);
alter table opd_patient_details add COLUMN mac character varying(5);
ALTER TABLE opd_patient_details ALTER COLUMN wasting TYPE character varying(15);
ALTER TABLE opd_patient_details ALTER COLUMN stuning TYPE character varying(15);
ALTER TABLE opd_patient_details ALTER COLUMN pem TYPE character varying(15);

---------------------------------Added by Jyotish on 05/01/2018-----------------------------------------------  
alter table opd_audiological_exam_ent_speciality add COLUMN right_audiogram character varying(50); 
alter table opd_audiological_exam_ent_speciality add COLUMN left_audiogram character varying(50); 
alter table opd_audiological_exam_ent_speciality add COLUMN right_audiogram_value character varying(50);  
alter table opd_audiological_exam_ent_speciality add COLUMN left_audiogram_value character varying(50); 
alter table opd_audiological_exam_ent_speciality add COLUMN right_audiogram_others_value character varying(128); 
alter table opd_audiological_exam_ent_speciality add COLUMN left_audiogram_others_value character varying(128); 


---------------------------------Added by Mansi on 08/01/2018-----------------------------------------------
ALTER TABLE drug_uasge_pattern DROP COLUMN drug_frequency_consumption;
ALTER TABLE drug_uasge_pattern  ADD COLUMN drug_frequency_consumption numeric(10,2);
alter table opd_audiological_exam_ent_speciality add COLUMN left_audiogram_others_value character varying(128); 

---------------------------------Added by Amit Das on 05/01/2018-----------------------------------------------
ALTER TABLE mas_employee
  ADD COLUMN visit_time_upto character varying(10);

ALTER TABLE queue_managment
  ADD COLUMN patient_special_category character varying(1);
  
ALTER TABLE visit
  ADD COLUMN reporting_time character varying(10);
  
ALTER TABLE mas_institute_department
  ADD COLUMN avg_no_of_patients integer;
  
  
-------------------Ritu 08/01/2018----------------------

     
ALTER TABLE queue_managment
   ADD COLUMN assigned_doctor_id integer;
			
ALTER TABLE users
   ADD COLUMN available_today character varying(8);
   
ALTER TABLE queue_managment ADD COLUMN initial_dr_id integer;
ALTER TABLE queue_managment
  ADD CONSTRAINT "FK_Q_1" FOREIGN KEY (initial_dr_id)
      REFERENCES mas_employee (employee_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION;

---------------------------------Added By Om Tripathi 8/1/2018---------------------------------
alter table upload_documents add COLUMN status VARCHAR(10); 


---------------------------------Added By Amit Das 9/1/2017---------------------------------
ALTER TABLE mas_employee
  ADD COLUMN employee_image bytea;

---------------------------------Added By Jyotish 9/1/2017---------------------------------

alter table opd_antenatal_card_medical_history add COLUMN infection character varying(128); 
alter table opd_antenatal_card_medical_history add COLUMN infection_years character varying(2); 
alter table opd_antenatal_card_medical_history add COLUMN infection_months character varying(2); 
alter table opd_antenatal_card_medical_history add COLUMN infection_remarks character varying(300); 
alter table opd_antenatal_card_medical_history add COLUMN infection_others character varying(300);       
      
---------------------------------Added By Jyotish 10/1/2017---------------------------------      
alter table opd_antenatal_card add column clubbing character varying(5)

---------------------------------Added By OM Tripathi 10/1/2018
ALTER TABLE opd_patient_details ADD COLUMN non_pharmacological character varying(128);





---------------------------------Added by Mansi on 11/01/2018-----------------------------------------------
CREATE TABLE opd_ps_case_record_orthodotics_details
(
  opd_ps_case_record_orthodotics_details_id serial NOT NULL,
  opd_ps_case_record_orthodotics_id integer,
  measurement character varying(50),
  steiner_ref_norm character varying(50),
  kearal_norm character varying(50),
  pre_trt character varying(50),
  post_trt character varying(50),
  diff character varying(50),
  particulars character varying(50),
  mean_value character varying(50),
  value_text character varying(50),
  no_one character varying(50),
  no_one_text character varying(50),
  no_two character varying(50),
  no_two_text character varying(50),
  no_three character varying(50),
  no_three_text character varying(50),
  no_four character varying(50),
  no_four_text character varying(50),
  flag character varying(50),
  CONSTRAINT pk__opd_ps_case_record_orthodotics_details PRIMARY KEY (opd_ps_case_record_orthodotics_details_id),
  CONSTRAINT fk_opd_ps_case_record_orthodotics_details_1 FOREIGN KEY (opd_ps_case_record_orthodotics_id)
      REFERENCES opd_ps_case_record_orthodotics (opd_ps_case_record_orthodotics_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE opd_ps_case_record_orthodotics_details
  OWNER TO hms;
ALTER TABLE opd_patient_details ADD COLUMN non_pharmacological character varying(128);

---------------------------------Added By Jyotish 11/1/2017---------------------------------  
alter table opd_antenatal_card_medical_history add COLUMN past_surgery_name character varying(300); 
alter table opd_antenatal_card_medical_history add COLUMN past_surgery_years character varying(5); 
alter table opd_antenatal_card_medical_history add COLUMN past_surgery_hospital character varying(128); 
alter table opd_antenatal_card_medical_history add COLUMN past_surgery_remarks character varying(300); 
alter table opd_antenatal_card add COLUMN reffered_hospital VARCHAR(128);
alter table opd_antenatal_card add COLUMN reffered_ga VARCHAR(128);

---------------------------------Babita on 11/01/2018-----------------------------------------------
alter table opd_antenatal_card_pregnancy
add no_of_pregnancy smallint,
add remarks varchar(256);

---------------------------------Added by Govind on 11/01/2018-----------------------------------------------
ALTER TABLE dg_sample_collection_header
   ADD COLUMN sample_bar_code_pending character varying(14);
   
---------------------------------Added By Jyotish 11/1/2017---------------------------------  
alter table external_lab_report_common add column test_date date
   
   
---------------------------------Added By Swarup 16/01/2018---------------------------------  
alter table   opd_pedodontics_vital_statistics_header alter column    
  presenting_complaints type character varying(400),alter column
  informar type character varying(400),alter column
  informar_value type character varying(400),alter column
  chief_complaint type character varying(400),alter column
  presenting_complaints_1 type character varying(400),alter column
  drug_therapy type character varying(400),alter column
  if_yes_why type character varying(400),alter column
  special_tests type character varying(400),alter column
  immunization_status type character varying(400),alter column
  frequent_illnesses type character varying(400),alter column
  during_early_childhood type character varying(200),alter column
  drug_allergy type character varying(400),alter column
  if_yes_specify type character varying(400),alter column
  developmental_abnormality type character varying(400),alter column
  physical_disability type character varying(400),alter column
  child_hopsitalized type character varying(400),alter column
  blood_transfusion type character varying(400),alter column
  bleeding_disorders type character varying(50),alter column
  heart_disease type character varying(50),alter column
  diabetes type character varying(50),alter column
  tuberculosis type character varying(50),alter column
  asthma type character varying(50),alter column
  allergic_reactions type character varying(50),alter column
  genetic_disorders type character varying(50),alter column
  abnormalities_of_teeth type character varying(50),alter column
  malocclusion type character varying(50),alter column
  any_other type character varying(50),alter column
  any_other_value type character varying(400),alter column
  mother_during_pregnancy type character varying(400),alter column
  incompatiblity_between_parents type character varying(50),alter column
  therapy_during_pregnancy type character varying(50),alter column
  name_of_the_drug type character varying(400),alter column
  duration_of_adminstration type character varying(400),alter column
  probable_diagnosis type character varying(400),alter column
  source_of_drinking_water_yes type character varying(400),alter column
  delivery type character varying(400),alter column
  type_of_delivery type character varying(400),alter column
  type_of_delivery_value type character varying(400),alter column
  birth_cry type character varying(400),alter column
  birth_weight type character varying(400),alter column
  blood_group type character varying(400),alter column
  health_at_birth type character varying(400),alter column
  oxygen_supplementation type character varying(400),alter column
  child_blue_baby type character varying(400),alter column
  child_jaundiced_at_birth type character varying(400),alter column
  abnormality_at_birth type character varying(400),alter column
  breast_fed type character varying(100),alter column
  breast_fed_value type character varying(400),alter column
  bottle_fed type character varying(50),alter column
  bottle_fed_value type character varying(400),alter column
  combination type character varying(50),alter column
  combination_value type character varying(400),alter column
  childreast_fed type character varying(400),alter column
  sleep_with_the_bottle type character varying(400),alter column
  contents_of_the_bottle type character varying(400),alter column
  within30_days_after_birth type character varying(400),alter column
  first_tooth_erupt type character varying(400),alter column
  any_associated_problem type character varying(400),alter column
  following_developmental_milestones type character varying(400),alter column
  head_holding type character varying(400),alter column
  rolling_over type character varying(400),alter column
  sitting type character varying(400),alter column
  standing_without_support type character varying(400),alter column
  walking type character varying(400),alter column
  running type character varying(400),alter column
  speaking_sentences type character varying(400),alter column
  inference type character varying(400),alter column
  along_with_other_children type character varying(400),alter column
  difficulty_in_keeping type character varying(400),alter column
  child_have_brothers_sisters type character varying(400),alter column
  scholastic_performance type character varying(400),alter column
  behaviour type character varying(400),alter column
  behaviour_rating type character varying(400),alter column
  child_brush_his_teeth type character varying(400),alter column
  teeth_at_present type character varying(400),alter column
  brushing_initiated type character varying(400),alter column
  child_start_brushing type character varying(400),alter column
  brushing_supervised type character varying(400),alter column
  time_frequency type character varying(400),alter column
  method_frequency type character varying(400),alter column
  type_of_paste_used type character varying(400),alter column
  sugary_medications type character varying(400),alter column
  dietary_habit type character varying(400),alter column
  frequent_snacking type character varying(400),alter column
  favourite_foods type character varying(400),alter column
  first_dental_visit type character varying(400),alter column
  the_last_visit type character varying(400),alter column
  unpleasant_dental_experience type character varying(400),alter column
  if_yes_explain type character varying(400),alter column
  fear_of_dentist type character varying(400),alter column
  fluoride_treatmennt type character varying(400),alter column
  child_complain_of_tooth_ache type character varying(400),alter column
  food_habits_and_sleep type character varying(400),alter column
  pain type character varying(400),alter column
  aggravating_relieving_factors type character varying(400),alter column
  tenderness type character varying(400),alter column
  previous_treatment type character varying(400),alter column
  injury_to_teeth type character varying(400),alter column
  if_yes_brief_history type character varying(400),alter column
  when_did_it_happen type character varying(400),alter column
  how_did_it_happen type character varying(400),alter column
  where_did_it_happen type character varying(400),alter column
  mouth_breathing type character varying(400),alter column
  mouth_breathing_value type character varying(400),alter column
  tongue_thrusting type character varying(400),alter column
  tongue_thrusting_value type character varying(400),alter column
  lip_biting_sucking type character varying(400),alter column
  lip_biting_duration type character varying(400),alter column
  thumb_finger_sucking type character varying(400),alter column
  thumb_duration type character varying(400),alter column
  thumb_frequency type character varying(400),alter column
  thumb_intensity type character varying(400),alter column
  nail_biting type character varying(400),alter column
  nail_biting_duration type character varying(400),alter column
  other_habits type character varying(400),alter column
  child_stop_the_habit type character varying(400),alter column
  source_of_drinking_water type character varying(400),alter column
  last_few_years type character varying(400),alter column
  height type character varying(400),alter column
  weight type character varying(400),alter column
  somatotype type character varying(400),alter column
  gait type character varying(400),alter column
  posture type character varying(400),alter column
  pulse_rate type character varying(400),alter column
  respiratory_rat type character varying(400),alter column
  temperature type character varying(400),alter column
  hair type character varying(400),alter column
  hair_value type character varying(400),alter column
  hair_duration type character varying(400),alter column
  skin type character varying(400),alter column
  skin_value type character varying(400),alter column
  skin_duration type character varying(400),alter column
  nails type character varying(400),alter column
  nails_value type character varying(400),alter column
  nails_duration type character varying(400),alter column
  eyes type character varying(400),alter column
  eyes_value type character varying(400),alter column
  eyes_duration type character varying(400),alter column
  ears type character varying(400),alter column
  ears_value type character varying(400),alter column
  ears_duration type character varying(400),alter column
  nose type character varying(400),alter column
  nose_value type character varying(400),alter column
  nose_duration type character varying(400),alter column
  regional_lymphnodes type character varying(400),alter column
  shape_of_the_head type character varying(50),alter column
  facial_form type character varying(50),alter column
  facial_symmetry type character varying(50),alter column
  facial_profile type character varying(50),alter column
  lower_facial_height type character varying(50),alter column
  upper_lip type character varying(50),alter column
  lower_lip type character varying(50),alter column
  lips type character varying(50),alter column
  lip_tonicity type character varying(50),alter column
  lip_line type character varying(50),alter column
  swallowing type character varying(50),alter column
  speech type character varying(50),alter column
  normal_movement type character varying(400),alter column
  clicking type character varying(400),alter column
  clicking_value type character varying(400),alter column
  crepitus type character varying(400),alter column
  crepitus_value type character varying(400),alter column
  anterior_displacement type character varying(400),alter column
  anterior_displacement_value type character varying(400),alter column
  posterior_displacement type character varying(400),alter column
  posterior_displacement_value type character varying(400),alter column
  premature_contact_on type character varying(400),alter column
  intraoral_examination type character varying(400),alter column
  mucosa type character varying(400),alter column
  mucosa_lesion type character varying(400),alter column
  mucosa_site type character varying(400),alter column
  mucosa_size type character varying(400),alter column
  mucosa_duration type character varying(400),alter column
  palate type character varying(400),alter column
  palate_lesion type character varying(400),alter column
  palate_size type character varying(400),alter column
  palate_site type character varying(400),alter column
  palate_duration type character varying(400),alter column
  pharynx type character varying(400),alter column
  pharynx_lesion type character varying(400),alter column
  pharynx_site type character varying(400),alter column
  pharynx_size type character varying(400),alter column
  pharynx_duration type character varying(400),alter column
  floor_of_the_mouth type character varying(400),alter column
  floor_of_the_mouth_lesion type character varying(400),alter column
  floor_of_the_mouth_site type character varying(400),alter column
  floor_of_the_mouth_size type character varying(400),alter column
  floor_of_the_mouth_duration type character varying(400),alter column
  tongue type character varying(400),alter column
  tongue_lesion type character varying(400),alter column
  tongue_site type character varying(400),alter column
  tongue_size type character varying(400),alter column
  tongue_duration type character varying(400),alter column
  frenal_attachments type character varying(400),alter column
  frenal_attachments_lesion type character varying(400),alter column
  frenal_attachments_site type character varying(400),alter column
  frenal_attachments_size type character varying(400),alter column
  frenal_attachments_duration type character varying(400),alter column
  gingiva type character varying(400),alter column
  gingiva_colour type character varying(400),alter column
  gingiva_consistency type character varying(400),alter column
  gingiva_texture type character varying(400),alter column
  gingiva_bleeding type character varying(400),alter column
  gingiva_any_other type character varying(400),alter column
  gingival_index type character varying(400),alter column
  score type character varying(400),alter column
  gingivities type character varying(400),alter column
  saliva type character varying(400),alter column
  plaque_index type character varying(400),alter column
  score_one type character varying(400),alter column
  oral_hygiene type character varying(400),alter column
  saliva_one type character varying(400),alter column
  eruption_status type character varying(400),alter column
  dental_stage type character varying(400),alter column
  incipient_lession type character varying(400),alter column
  enamel_caries type character varying(400),alter column
  dentinal_caries type character varying(400),alter column
  arrested_caries type character varying(400),alter column
  pulp_exposure type character varying(400),alter column
  periapical_pathology type character varying(400),alter column
  root_stumps type character varying(400),alter column
  retained_teeth type character varying(400),alter column
  fractured_teeth type character varying(400),alter column
  physiologic type character varying(400),alter column
  pathologic type character varying(400),alter column
  congenitally_missing_teeth type character varying(400),alter column
  ectopic_eruption type character varying(400),alter column
  discolouration_of_teeth type character varying(400),alter column
  supernumerary_teeth type character varying(400),alter column
  dental_anomalies type character varying(400),alter column
  overjet type character varying(400),alter column
  overbite type character varying(400),alter column
  deep_bite type character varying(400),alter column
  anterior_cross_bite type character varying(400),alter column
  maxillary_incisor_angulation type character varying(400),alter column
  mandibular_incisor_angulation type character varying(400),alter column
  maxilla type character varying(400),alter column
  mandible type character varying(400),alter column
  diastema type character varying(400),alter column
  diastema_midline type character varying(400),alter column
  diastema_generalised type character varying(400),alter column
  probable_cause type character varying(400),alter column
  max type character varying(400),alter column
  mand type character varying(400),alter column
  class_i_r_t type character varying(400),alter column
  class_i_i_r_t type character varying(400),alter column
  class_i_i_i_r_t type character varying(400),alter column
  right_class type character varying(400),alter column
  left_class type character varying(400),alter column
  terminal_plane_right type character varying(400),alter column
  terminal_plane_left type character varying(400),alter column
  cross_bite_right type character varying(400),alter column
  cross_bite_left type character varying(400),alter column
  openbite_posterior type character varying(400),alter column
  arch_form_max type character varying(400),alter column
  arch_form_mand type character varying(400),alter column
  displaced_teeth type character varying(400),alter column
  rotated_teeth type character varying(400),alter column
  max_anterior type character varying(400),alter column
  max_posterior type character varying(400),alter column
  mand_anterior type character varying(400),alter column
  mand_posterior type character varying(400),alter column
  premature_loss_of_primary type character varying(400),alter column
  space_closure type character varying(400),alter column
  normal_movement_value type character varying(400),alter column
  medico_legal_case type character varying(400),alter column
  sugars_in_solution_d_m type character varying(400),alter column
  sugars_in_solution_b_m type character varying(400),alter column
  sugars_in_solution_a_b_t type character varying(400),alter column
  sugars_in_solution_d_m_total_exposures type character varying(400),alter column
  sugars_in_solution_b_m_total_exposures type character varying(400),alter column
  sugars_in_solution_a_b_t_total_exposures type character varying(400),alter column
  solid_retentive_d_m type character varying(400),alter column
  solid_retentive_b_m type character varying(400),alter column
  solid_retentive_a_b_t type character varying(400),alter column
  solid_retentive_d_m_total_exposures type character varying(400),alter column
  solid_retentive_b_m_total_exposures type character varying(400),alter column
  solid_retentive_a_b_t_total_exposures type character varying(400),alter column
  type_of_food type character varying(400),alter column
  class_i_l_t type character varying(400),alter column
  class_i_i_l_t type character varying(400),alter column
  class_i_i_i_l_t type character varying(400);
  
---------------------------------Added By Swarup 16/01/2018--------------------------------- 
ALTER TABLE  opd_oral_and_maxillofacial_surgery ALTER
  chief_complaint type character varying(256),alter column
  h_o_presenting_complaints type character varying(256) , alter column
  family_history type character varying(256) , alter column
  personal_history type character varying(256) , alter column
  built type character varying(256) , alter column
  gait  type character varying(256) , alter column
  nourishment type character varying(256) , alter column
  rate type character varying(256) , alter column
  rate_value type character varying(256) , alter column
  rhythm type character varying(256) , alter column
  volume type character varying(256) , alter column
  temperature_pulse type character varying(256) , alter column
  temperature_val type character varying(256) , alter column
  resoiratory_rate type character varying(256) , alter column
  blood_pressure type character varying(256) , alter column
  gastro_intestinal_system type character varying(256) , alter column
  skeltal_system type character varying(256) , alter column
  attachment type character varying(256) , alter column
  margins type character varying(256) , alter column
  compressble type character varying(256) , alter column
  reducble type character varying(256) , alter column
  edge type character varying(256) , alter column
  pressure type character varying(256) , alter column
  discharge_on_pressure type character varying(256) , alter column
  percussion type character varying(256) , alter column
  number_teeth type character varying(256) , alter column
  root_stumps type character varying(256) , alter column
  decayed_teeth type character varying(256) , alter column
  missing_avulsed_teeth type character varying(256) , alter column
  gingiva type character varying(256) , alter column
  alveloar_mucosa type character varying(256) , alter column
  labial_mucosa type character varying(256) , alter column
  buccal_mucosa_teeth type character varying(256) , alter column
  palate_and_fauces type character varying(256) , alter column
  tongue_teeth type character varying(256) , alter column
  floor_of_mouth_teeth type character varying(256) , alter column
  mouth_opening type character varying(256) , alter column
  jaw_movements type character varying(256) , alter column
  lateral_movements type character varying(256) , alter column
  retrusion type character varying(256) , alter column
  protrusion type character varying(256) , alter column
  t_m_joints type character varying(256) , alter column
  infection type character varying(256) , alter column  
  history type character varying(256) , alter column
  r_t_a type character varying(256) , alter column
  occusion type character varying(256) , alter column
  mobility_on_pressure type character varying(256) , alter column
  surgical_removal type character varying(256) , alter column
  surgical_exposure type character varying(256) , alter column
  tumors type character varying(256) , alter column
  treatment type character varying(256) , alter column 
  treatment_diseasese type character varying(256) , alter column
  past_medical_history_value type character varying(256) , alter column
  past_dental_history_value type character varying(256) , alter column
  females_value type character varying(256) , alter column
  habbits_value type character varying(256) , alter column
  palpitation_value type character varying(256) , alter column
  murmers_value type character varying(256) , alter column
  cough_value type character varying(256) , alter column
  wheezing_value type character varying(256) , alter column
  dyspnoea_value type character varying(256) , alter column
  nasal_block_value type character varying(256) , alter column
  dizziness_value type character varying(256) , alter column
  tremors_value type character varying(256) , alter column
  headache_value type character varying(256) , alter column
  vommitting_value type character varying(256) , alter column
  parathesisa_value type character varying(256) , alter column
  convulsion_value type character varying(256) , alter column
  polyuria_value type character varying(256) , alter column
  oligouria_value type character varying(256) , alter column
  heamatuia_value type character varying(256) , alter column  
  pericoronal_value type character varying(256) , alter column
  masseteric_value type character varying(256) , alter column
  submandiblar_value type character varying(256) , alter column
  sublingual_value type character varying(256) , alter column
  submetal_value type character varying(256) , alter column
  retromolar_value type character varying(256) , alter column
  pterygomandibular_value type character varying(256) , alter column
  others5_value type character varying(256) , alter column
  cleft_palate_value type character varying(256) , alter column
  cleft_lip_value type character varying(256) , alter column
  surgical_value type character varying(256) , alter column
  medical_value type character varying(256) , alter column
  others4_value type character varying(256) , alter column
  facialparalysis_value type character varying(256) , alter column
  trgeminal_neuralgia_value type character varying(256) , alter column
  distraction_osteogenesis_value type character varying(256) , alter column
  genioplasty_value type character varying(256) , alter column
  condyletomy_value type character varying(256) , alter column
  subapical_value type character varying(256) , alter column
  ivro_value type character varying(256) , alter column
  bsso_value type character varying(256) , alter column
  leforte1osteotomy_value type character varying(256) , alter column
  anterior_maxillary_osteotomy_value type character varying(256) , alter column
  asymmetry_value type character varying(256) , alter column
  open_bite_value type character varying(256) , alter column
  dislocation_chronic_value type character varying(256) , alter column
  dislocation_acute_value type character varying(256) , alter column
  ankylosis_fibrous_value type character varying(256) , alter column
  ankylosis_bony_value type character varying(256) , alter column
  inflammation_value type character varying(256) , alter column
  ranula_value type character varying(256) , alter column
  mucocele_value type character varying(256) , alter column
  obstructive_value type character varying(256) , alter column
  inflammatory_value type character varying(256) , alter column
  others3_value type character varying(256) , alter column
  enucleation_value type character varying(256) , alter column
  marsupialization_value type character varying(256) , alter column
  sebeceous_cyst_value type character varying(256) , alter column
  dermoid_cyst_value type character varying(256) , alter column
  periapical_cysts_value type character varying(256) , alter column
  okc_value type character varying(256) , alter column
  dentigerous_cysts_value type character varying(256) , alter column
  others1_value type character varying(256) , alter column
  excision_value type character varying(256) , alter column
  anteriovenous_malfromation_value type character varying(256) , alter column
  peripheral_giant_value type character varying(256) , alter column
  central_giant_value type character varying(256) , alter column
  hemangioma_value type character varying(256) , alter column
  ewigssarcoma_value type character varying(256) , alter column
  lymphangioma_value type character varying(256) , alter column
  fibrous_dysplasia_value type character varying(256) , alter column
  others_value type character varying(256) , alter column
  pre_cancerous_conditions_value type character varying(256) , alter column
  pre_cancerous_lesions_value type character varying(256) , alter column
  lips_value type character varying(256) , alter column
  alveolus_value type character varying(256) , alter column
  floor_of_mouth_value type character varying(256) , alter column
  retromolar_mucosa_value type character varying(256) , alter column
  tongue_value type character varying(256) , alter column
  buccal_mucosa_value type character varying(256) , alter column
  mandible_value type character varying(256) , alter column
  maxilla_value type character varying(256) , alter column
  mobility type character varying(256) , alter column
  subcondylar_value type character varying(256) , alter column
  coronoid_value type character varying(256) , alter column
  condyle_value type character varying(256) , alter column
  body_value type character varying(256) , alter column
  angle_value type character varying(256) , alter column
  ramus_value type character varying(256) , alter column
  symphysis_value type character varying(256) , alter column
  dentoalveolar_value type character varying(256) , alter column
  frontal_bone_fracture_value type character varying(256) , alter column
  orbital_fracture_value type character varying(256) , alter column
  zygomatic_complex_value type character varying(256) , alter column
  zygomaticarch_fracture_value type character varying(256) , alter column
  nasal_bone_fracture_value type character varying(256) , alter column
  lateral_pharyngeal_value type character varying(256) , alter column
  retroopharyngeal_value type character varying(256) , alter column
  mediastemitis_value type character varying(256) , alter column
  maxillary_dento_alveolar_fracture_value type character varying(256) , alter column
  lefort1_fracture_value type character varying(256) , alter column
  lefort2_fracture_value type character varying(256) , alter column
  lefort3_fracture_value type character varying(256) , alter column
  canine_value type character varying(256) , alter column
  buccal_value type character varying(256);


---------------------------------Added By Swarup 16/01/2018--------------------------------- 
alter table opd_oral_and_maxillofacial_surgery  alter
 syndromes  type character varying(256),alter column
 cyanosis type character varying(256);

---------------------------------Added By Swarup 16/01/2018--------------------------------- 
 alter table opd_oral_and_maxillofacial_surgery alter column
  chest_pain type character varying(300),alter
  palpitation type character varying(300),alter
  hypertension type character varying(300),alter
  murmers type character varying(300),alter
  cough type character varying(300),alter
  wheezing type character varying(300),alter
  dyspnoea type character varying(300),alter
  nasal_block type character varying(300),alter
  dizziness type character varying(300),alter
  tremors type character varying(300),alter
  headache type character varying(300),alter
  vommitting type character varying(300),alter
  parathesisa type character varying(300),alter
  convulsion type character varying(300),alter
  polyuria type character varying(300),alter
  oligouria type character varying(300),alter
  heamatuia type character varying(300),alter
  temperature type character varying(300),alter
  conistency type character varying(300),alter
  tenderness type character varying(300)
  
---------------------------------Added By Swarup 16/01/2018--------------------------------- 
alter table opd_oral_and_maxillofacial_surgery alter column
  submeantal type character varying(8),alter
  sub_mandibular type character varying(8),alter
  upper_juglodidastric type character varying(8),alter
  mid_juglodigastric type character varying(8),alter
  supra_clavicular type character varying(8),alter
  posterior_triangle type character varying(8),alter
  edema_pitting type character varying(8),alter
  edema_nonpitting type character varying(8)

  ---------------------------------Added By Babita 18/01/2018--------------------------------- 
alter table opd_antenatal_card_trimester
alter column  general_examination  type varchar(256)


alter table opd_antenatal_card_trimester
alter column  pv_trimes  type varchar(256)

  ---------------------------------Added By Swarup 19/01/2018--------------------------------- 
  ALTER TABLE opd_general_proforma_header   ALTER COLUMN presenting_complaint_value TYPE character varying(1000);
  ALTER TABLE opd_general_proforma_header   ALTER COLUMN aggravating_factors_value TYPE character varying(1000);
  ALTER TABLE opd_general_proforma_header   ALTER COLUMN past_history_value TYPE character varying(1000);
  ALTER TABLE opd_general_proforma_header   ALTER COLUMN distribution_parameter_value TYPE character varying(1000);
  ALTER TABLE opd_general_proforma_header   ALTER COLUMN mucous_menbrane_value TYPE character varying(1000);
  ALTER TABLE opd_general_proforma_header   ALTER COLUMN hair_value TYPE character varying(1000);
  ALTER TABLE opd_general_proforma_header   ALTER COLUMN nails_value TYPE character varying(1000);
  ALTER TABLE opd_general_proforma_header   ALTER COLUMN system_illness_value TYPE character varying(1000);
  ALTER TABLE opd_general_proforma_header   ALTER COLUMN signs_value TYPE character varying(1000);
  
---------------------------------Added By Swarup 21/01/2018---------------------------------
ALTER TABLE  opd_dermatology_leprosy_proforma ADD column  presenting_complaints_value character varying(1000);
ALTER TABLE opd_dermatology_leprosy_proforma   ALTER COLUMN presenting_complaints TYPE character varying(256);
ALTER TABLE opd_dermatology_leprosy_proforma   ALTER COLUMN leprosy_neighbours_value TYPE character varying(500);

---------------------------------Babita on 22/01/2018---------------------------------
alter table opd_patient_details alter column patient_advise type varchar(500)
alter table opd_patient_details alter column referral_notes type varchar(500)

---------------------------------Jyotish on 22/01/2018---------------------------------
ALTER TABLE visit ADD COLUMN from_template character varying(128);

---------------------------------Added By Swarup 22/01/2018---------------------------------
ALTER TABLE  opd_dermatology_leprosy_proforma  ALTER  column presenting_complaints TYPE character varying(1000);
ALTER TABLE  opd_dermatology_leprosy_proforma  ALTER  column presenting_complaints_value TYPE character varying(500);
 
ALTER TABLE  opd_phototherapy_proforma_header  ALTER  column nails TYPE character varying(1000);
ALTER TABLE  opd_phototherapy_proforma_header  ALTER  column nails_value TYPE character varying(500);

---------------------------------Added By Awadhesh 27/01/2018---------------------------------


ALTER TABLE public.ph_disease_registration_screening ADD COLUMN checked_status character varying(10);

ALTER TABLE  opd_phototherapy_proforma_header  ALTER  column hair TYPE character varying(1000);
ALTER TABLE  opd_phototherapy_proforma_header  ALTER  column hair_value TYPE character varying(500);

ALTER TABLE  opd_phototherapy_proforma_header  ALTER  column distribution TYPE character varying(1000);
ALTER TABLE  opd_phototherapy_proforma_header  ALTER  column distribution_value TYPE character varying(500);

ALTER TABLE mas_hospital
   ADD COLUMN active_hospital character varying(8);
COMMENT ON COLUMN mas_hospital.active_hospital
  IS 'used for queue managment';
  
ALTER TABLE mas_department
   ADD COLUMN department_name_image bytea;
   
   
   
  ---------------------------------Added by Mansi on 23/01/2018-----------------------------------------------
  ALTER TABLE mas_employee ADD COLUMN mal_empname character(1000);
  ALTER TABLE mas_department ADD COLUMN mal_departmentname character(1000);

  

   
   ADD COLUMN department_name_image bytea;
   
---------------------------------Added By Amit Das 31/01/2018---------------------------------   
   
ALTER TABLE visit
  ADD COLUMN recall_count integer DEFAULT 0;
  
---------------------------------Added By Amit Das 03/02/2018---------------------------------     
  ALTER TABLE public.visit
  ADD COLUMN last_display_after_no integer;
   
   
   ---------------------------------Added by Mansi on 05/02/2018-----------------------------------------------
   ALTER TABLE opd_antenatal_card
   ALTER COLUMN pregnancy_outcome TYPE character varying(50);
   
   alter table opd_antenatal_card add COLUMN unknown_lmp_status VARCHAR(1);
   
 ---------------------------------Added By Amit Das 13/02/2018---------------------------------     
   ALTER TABLE public.queue_managment
  ADD COLUMN transfer_to_common_pool_count integer;
	ALTER TABLE public.queue_managment
   ALTER COLUMN transfer_to_common_pool_count SET DEFAULT 0;  
  
   //Added By OM Tripathi 15/02/2018
ALTER TABLE opd_patient_details add column provisional_diagnosis character varying(1000);
ALTER TABLE opd_patient_details add column final_diagnosis character varying(1000);

//------------------added by anamika-19/02/2018------------------------
ALTER TABLE public.opd_patient_allergy_t
   ALTER COLUMN allergen TYPE character varying(256);


//Added By Om Tripathi
alter table visit add COLUMN last_display_status VARCHAR(10);

---Added by Arbind on 20-02-2018---
ALTER TABLE public.store_item_batch_stock
  ADD COLUMN out_tw_no bigint;
  
  
//------------------added by Jyotish-23/02/2018------------------------  

INSERT INTO mas_specialty_template(template_code, template_name, status, last_chg_by, last_chg_date, last_chg_time, hospital_id, template_type) 
            VALUES ('hemoDy','Hemo Dialysis','Y',431,'2018-02-20','17:39',1,'Both');


CREATE TABLE opd_hemo_dialysis(
hemo_dialysis_id SERIAL PRIMARY KEY NOT NULL,
hin_id integer,
opd_patient_details integer,
dialysis_date character varying(15),
dialysis_hd_no integer,
dialysis_access1 character varying(30),
dialysis_access2 character varying(30),
pre_hd_weight numeric(10,3),
post_hd_weight numeric(10,3),
weight_gain numeric(10,3),
heparin_dose character varying(30),
blood_flow_rate integer,
dialysate_flow_rate integer,
kt_v integer,
urr integer,
UF integer,
next_dialysis_date character varying(15),
next_dialysis_time character varying(12),
events_complications character varying(300),
CONSTRAINT fk_opd_hemo_dialysis_001 FOREIGN KEY (hin_id)
      REFERENCES patient (hin_id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT,
CONSTRAINT fk_opd_hemo_dialysis_002 FOREIGN KEY (opd_patient_details)
      REFERENCES opd_patient_details (id) MATCH SIMPLE
      ON UPDATE RESTRICT ON DELETE RESTRICT
);

alter table opd_hemo_dialysis add COLUMN vital_date_time character varying(20);
alter table opd_hemo_dialysis add COLUMN vital_bp character varying(8);
alter table opd_hemo_dialysis add COLUMN vital_pulse integer;
alter table opd_hemo_dialysis add COLUMN vital_temperature numeric(4,1);


 ---------------------------------Added By Amit Das 23/02/2018---------------------------------   
ALTER TABLE public.dg_template
  DROP COLUMN result;
ALTER TABLE public.dg_template
  ADD COLUMN result bytea;


 ---------------------------------Added By Amit Das 26/02/2018---------------------------------   
ALTER TABLE public.queue_managment
  ADD COLUMN transfer_to_other_doctor_count integer DEFAULT 0;    

 ---------------------------------Added By Jyotish Kumar 01/03/2018---------------------------------    
 
alter table external_lab_report_common add column result_status character varying(10); 

---------------------------------Added By Srikanth 06/03/2018--------------------------------- 

CREATE TABLE mas_designation
(
designation_id serial NOT NULL,
designation_code integer,
designation_name integer,
last_chg_by character varying(10),
last_chg_date date,
last_chg_time character varying(8),
status character varying(1)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE aac_acceptance
  OWNER TO postgres;
  
  
 ---------------------------------Added By Jyotish Kumar 12/03/2018---------------------------------   
 alter table opd_antenatal_usg add COLUMN usg_flag VARCHAR(12);
alter table opd_antenatal_usg add COLUMN visit_flag VARCHAR(15);  


//----------------------------added by anamika 13/03/2018---------------------------------   



CREATE TABLE public.opd_image_annotation
(
  image_annotation_id serial NOT NULL,
  hin_id integer,
  visit_id integer,
  hospital_id integer,
  template_name character varying(128),
  src character varying(256),
  text character varying(512),
  height character varying(128),
  width character varying(128),
  x_coordinate character varying(128),
  y_coordinate character varying(128),
  type character varying(128),
  CONSTRAINT pk__opd_image_annotation PRIMARY KEY (image_annotation_id),
  CONSTRAINT fk_001__opd_image_annotation FOREIGN KEY (hin_id)
      REFERENCES public.patient (hin_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_002__opd_image_annotation FOREIGN KEY (visit_id)
      REFERENCES public.visit (visit_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);

---------------------------------Added By Srikanth 20/03/2018--------------------------------- 

alter table patient_episode alter column episode_desc type character varying(600); 

---------------------------------Added By Awadhesh 13/03/2018--------------------------------- 

ALTER TABLE public.ph_alert ADD COLUMN height numeric(10,3);
ALTER TABLE public.ph_alert ADD COLUMN weight numeric(10,3);
ALTER TABLE public.ph_alert ADD COLUMN bmi numeric(11,2);

ALTER TABLE public.ph_alert ADD COLUMN temperature numeric(4,1);
ALTER TABLE public.ph_alert ADD COLUMN pulse integer;
ALTER TABLE public.ph_alert ADD COLUMN bp character varying(8);
ALTER TABLE public.ph_alert ADD COLUMN basic_section_id integer;
ALTER TABLE public.ph_alert ADD COLUMN sub_section_id integer;
ALTER TABLE public.ph_alert ADD COLUMN status character varying(2);

ALTER TABLE public.ph_disease_registration_screening ADD COLUMN checked_status character varying(10);

public.ph_revised_national_tuberculosis_screening ADD COLUMN checked_status character varying(10);

//------------------------------------added by anamika-----21/03/2018

ALTER TABLE public.patient_prescription_header
   ADD COLUMN remarks_for_ct character varying(512);
   
 ---------------------------------Added By Awadhesh 27/03/2018---------------------------------   
  
   ALTER TABLE public.ph_disease_registration_follow ADD COLUMN checked_status character varying(10);
   
ALTER TABLE public.ph_disease_registration_follow ADD COLUMN next_follow_date date;

 ---------------------------------Added By Jyotish 04/04/2018--------------------------------- 
 create table external_admission_details(
record_id SERIAL NOT NULL,
visit_id integer,
hin_id integer,
date_of_admission character varying(12),
ip_no character varying(130),
diagnosis character varying(260),
management character varying(260),
advice character varying(260),
date_of_discharge character varying(12),
CONSTRAINT external_admission_details_pkey PRIMARY KEY (record_id),
CONSTRAINT external_admission_details_hin_id_fkey FOREIGN KEY (hin_id)
REFERENCES patient (hin_id) MATCH SIMPLE
ON UPDATE NO ACTION ON DELETE NO ACTION,
CONSTRAINT external_admission_details_visit_id_fkey FOREIGN KEY (visit_id)
REFERENCES visit (visit_id) MATCH SIMPLE
ON UPDATE NO ACTION ON DELETE NO ACTION);  
   
   
   //---------------------added by anamika-----------------29/03/2018----------
 
 ALTER TABLE public.external_lab_report_common
   ADD COLUMN investigation_id integer;

ALTER TABLE public.external_lab_report_common
   ADD COLUMN sub_investigation_id integer;



ALTER TABLE public.external_lab_report_common
  ADD CONSTRAINT fk_mas_investigation FOREIGN KEY (investigation_id) REFERENCES public.dg_mas_investigation (investigation_id)
   ON UPDATE NO ACTION ON DELETE NO ACTION;
CREATE INDEX fki_mas_investigation
  ON public.external_lab_report_common(investigation_id);


ALTER TABLE public.external_lab_report_common
  ADD CONSTRAINT fk_mas_sub_investigation FOREIGN KEY (sub_investigation_id) REFERENCES public.dg_sub_mas_investigation (sub_investigation_id)
   ON UPDATE NO ACTION ON DELETE NO ACTION;
CREATE INDEX fki_mas_sub_investigation
  ON public.external_lab_report_common(sub_investigation_id);
  
  ALTER TABLE public.external_lab_report_common ADD COLUMN investigation_type character varying(1);
  
  
//---------------------added by Jyotish-----------------17/04/2018----------  
 alter table opd_patient_details add COLUMN extra_oral_examination character varying(1000);
alter table opd_patient_details add COLUMN intra_oral_examination character varying(1000);
alter table opd_patient_details add COLUMN chair_side_investigations character varying(1000);
alter table opd_patient_details add COLUMN ordering_procedure_findings character varying(1000); 

//------------------------added by anamika 18/04/2018-------------------------------

ALTER TABLE public.opd_ent_examination_speciality
   ADD COLUMN image_name character varying(1024);
alter table opd_patient_details add COLUMN ordering_procedure_findings character varying(1000); 


---------------------added by Babita-----------------19/04/2018----------  

CREATE TABLE ft_relation
(
  id serial,
  relation_code character varying(2),
  rel_name character varying(20),
  gender character varying(1)

);
CREATE TABLE ft
(
  id serial primary key,
  rel_name character varying(30),
  gender character varying(1),
  rel integer,
  father_id integer,
  mother_id integer,
  spouse_id integer,
  hin integer,
  diagnosis character varying(50),
  status character varying(1),
 
  CONSTRAINT fk_ft_father_id FOREIGN KEY (father_id)
      REFERENCES ft (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_ft_hin FOREIGN KEY (hin)
      REFERENCES patient (hin_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_ft_mother_id FOREIGN KEY (mother_id)
      REFERENCES ft (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_ft_rel FOREIGN KEY (rel)
      REFERENCES ft_relation (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_ft_spouse_id FOREIGN KEY (spouse_id)
      REFERENCES ft (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
);
---------------------------------Added By Swarup 20/04/2018--------------------------------- 
ALTER TABLE opd_patient_history ALTER COLUMN past_history TYPE character varying(1024);
ALTER TABLE opd_patient_details ALTER COLUMN park_family_history TYPE character varying(1024);
ALTER TABLE opd_patient_details ALTER COLUMN park_medication_history TYPE character varying(1024);


---------------------------------Added By Jyotish 24/04/2018--------------------------------- 
alter table external_lab_report_common add column test_time character varying(12);

---------------------------------Added By Swarup 06/05/2018---------------------------------
ALTER TABLE patient_log_update ADD COLUMN bystander_mobile_no character varying(16);
ALTER TABLE patient_log_update ADD COLUMN bystander_relation integer;
ALTER TABLE patient_log_update ADD COLUMN bystander_address character varying(128);


---------------------------------Added By Babita 16/05/2018--------------------------------- 

delete from ft_relation;
ALTER SEQUENCE ft_relation_id_seq RESTART WITH 1;

insert into ft_relation( relation_code, rel_name, gender)
values('1', 'Grand Father(P)','M');
insert into ft_relation(relation_code, rel_name, gender)
values('2', 'Grand Mother(P)','F');
insert into ft_relation(relation_code, rel_name, gender)
values('3', 'Grand Father(M)','M');
insert into ft_relation(relation_code, rel_name, gender)
values('4', 'Grand Mother(M)','F');
insert into ft_relation(relation_code, rel_name, gender)
values('5', 'Father','M');
insert into ft_relation(relation_code, rel_name, gender)
values('6', 'Mother','F');
insert into ft_relation(relation_code, rel_name, gender)
values('7', 'Aunt(P)','F');
insert into ft_relation(relation_code, rel_name, gender)
values('8', 'Aunt(M)','F');
insert into ft_relation(relation_code, rel_name, gender)
values('9', 'Uncle(P)','M');
insert into ft_relation(relation_code, rel_name, gender)
values('10', 'Uncle(M)','M');
insert into ft_relation(relation_code, rel_name, gender)
values('11', 'Sister','F');
insert into ft_relation(relation_code, rel_name, gender)
values('12', 'Brother','M');
insert into ft_relation(relation_code, rel_name, gender)
values('13', 'Husband','M');
insert into ft_relation(relation_code, rel_name, gender)
values('14', 'Wife','F');
insert into ft_relation (relation_code, rel_name, gender)
values('15', 'Self','');
insert into ft_relation(relation_code, rel_name, gender)
values('16', 'Son','M');
insert into ft_relation(relation_code, rel_name, gender)
values('17', 'Daughter','F');


---------------------------------Added By Awadhesh 26/05/2018--------------------------------- 
ALTER TABLE public.lab_machine_xt2000i_details ADD COLUMN status character varying(10);
update lab_machine_xt2000i_details set status='Active';

---------------------------------Added By Jyotish 31/05/2018--------------------------------- 
ALTER TABLE opd_patient_allergy_t ALTER COLUMN allergen TYPE character varying(500);

ALTER TABLE opd_patient_allergy_t ALTER COLUMN allergy_remarks TYPE character varying(750);

----------------------Added by Ritu 13/06/2018-----------------


ALTER TABLE public.queue_managment
   ADD COLUMN refer_back character varying(8);
   
 ---------------------------------Added By Nitin Garg 13/06/2018--------------------------------- 
update mas_frequency set frequency_type='' where frequency_name='sos';  


 ---------------------------------Added By Babita Dangwal 18/06/2018--------------------------------- 
 update mas_employee set visit_time_upto= null;
 alter table  mas_employee alter column  visit_time_upto type timestamp using visit_time_upto::timestamp;
 
 
----------------------Added by Ritu 18/06/2018-----------------

ALTER TABLE patient_prescription_header ADD COLUMN discharge_medication_status character varying(1); 



-----------------------Added by anamika 20/06/2018------------------------------------------

ALTER TABLE public.opd_orthopedic_speciality
   ADD COLUMN nature_of_growth_value character varying(256);

   ALTER TABLE public.opd_orthopedic_speciality
   ADD COLUMN remarks_for_swelling character varying(256);
   
  -----------------------Added by anamika 25/06/2018------------------------------------------ 
   ALTER TABLE public.opd_orthopedic_speciality
   ADD COLUMN right_upper_limb_value character varying(256);
   
   
   ALTER TABLE public.opd_orthopedic_speciality
   ADD COLUMN right_lower_limb_value character varying(256);
   
   
   ALTER TABLE public.opd_orthopedic_speciality
   ADD COLUMN lower_limb_length_unit character varying(16);
   
   
   ALTER TABLE public.opd_orthopedic_speciality
   ADD COLUMN upper_limb_length_unit character varying(16);

     -----------------------Added by Jyotish 27/06/2018------------------------------------------ 
     
     ALTER TABLE opd_orthopedic_speciality ALTER COLUMN nature_of_injury TYPE character varying(500);

     ALTER TABLE opd_orthopedic_speciality ALTER COLUMN nature_of_injury_value TYPE character varying(1500);
   